Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,a=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(a,t,o,n))return t}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){'use strict';if(e===void 0||null===e)throw new TypeError("Cannot convert first argument to object");for(var t,n=Object(e),r=1;r<arguments.length;r++)if(t=arguments[r],void 0!==t&&null!==t){t=Object(t);for(var a=Object.keys(Object(t)),o=0,s=a.length;void 0>o;o++){var d=a[o],l=Object.getOwnPropertyDescriptor(t,d);void 0!==l&&l.enumerable&&(n[d]=t[d])}}return n}}),!function(e){"use strict";function t(e,t,n,a){var o=Object.create((t||r).prototype);return o._invoke=s(e,n||null,new i(a||[])),o}function n(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function a(){}function o(){}function s(e,t,r){var a="suspendedStart";return function(o,s){if(a==="executing")throw new Error("Generator is already running");if("completed"===a)return u();for(;;){var d=r.delegate;if(d){if("return"===o||"throw"===o&&d.iterator[o]===void 0){r.delegate=null;var l=d.iterator["return"];if(l){var c=n(l,d.iterator,s);if("throw"===c.type){o="throw",s=c.arg;continue}}if("return"===o)continue}var c=n(d.iterator[o],d.iterator,s);if("throw"===c.type){r.delegate=null,o="throw",s=c.arg;continue}o="next",s=void 0;var i=c.arg;if(i.done)r[d.resultName]=i.value,r.next=d.nextLoc;else return a="suspendedYield",i;r.delegate=null}if("next"===o)"suspendedYield"===a?r.sent=s:delete r.sent;else if("throw"===o){if("suspendedStart"===a)throw a="completed",s;r.dispatchException(s)&&(o="next",s=void 0)}else"return"===o&&r.abrupt("return",s);a="executing";var c=n(e,t,r);if("normal"===c.type){a=r.done?"completed":"suspendedYield";var i={value:c.arg,done:r.done};if(c.arg===g)r.delegate&&"next"===o&&(s=void 0);else return i}else"throw"===c.type&&(a="completed",o="throw",s=c.arg)}}}function d(e){b[e]=function(t){return this._invoke(e,t)}}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function c(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function i(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset()}function p(e){if(e){var t=e[f];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:u}}function u(){return{value:void 0,done:!0}}var m=Object.prototype.hasOwnProperty,f="function"==typeof Symbol&&Symbol.iterator||"@@iterator",h="object"==typeof module,y=e.regeneratorRuntime;if(y)return void(h&&(module.exports=y));y=e.regeneratorRuntime=h?module.exports:{},y.wrap=t;var g={},b=o.prototype=r.prototype;a.prototype=b.constructor=o,o.constructor=a,a.displayName="GeneratorFunction",y.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},y.mark=function(e){return e.__proto__=o,e.prototype=Object.create(b),e},y.async=function(e,r,a,o){return new Promise(function(s,d){function l(e,t){var r=n(c[e],c,t);if("throw"===r.type)return void d(r.arg);var a=r.arg;a.done?s(a.value):Promise.resolve(a.value).then(i,p)}var c=t(e,r,a,o),i=l.bind(c,"next"),p=l.bind(c,"throw");i()})},d("next"),d("throw"),d("return"),b[f]=function(){return this},b.toString=function(){return"[object Generator]"},y.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},y.values=p,i.prototype={constructor:i,reset:function(){this.prev=0,this.next=0,this.sent=void 0,this.done=!1,this.delegate=null,this.tryEntries.forEach(c);for(var e,t=0;m.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var s=m.call(a,"catchLoc"),d=m.call(a,"finallyLoc");if(s&&d){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!d)throw new Error("try statement without catch or finally");else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var n,r=this.tryEntries.length-1;0<=r;--r)if(n=this.tryEntries[r],n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?this.next=a.finallyLoc:this.complete(o),g},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),c(t),g},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.tryLoc===e){var r=t.completion;if("throw"===r.type){var a=r.arg;c(t)}return a}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},g}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.dav=e()}}(function(){var a,e=String.fromCharCode,t=Math.floor,n=Math.min,r=Math.max;return function(){function s(d,e,n){function t(o,l){if(!e[o]){if(!d[o]){var i="function"==typeof require&&require;if(!l&&i)return i(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var a=e[o]={exports:{}};d[o][0].call(a.exports,function(e){var r=d[o][1][e];return t(r||e)},a,a.exports,s,d,e,n)}return e[o].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)t(n[a]);return t}return s}()({1:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var d=o?Object.getOwnPropertyDescriptor(e,s):null;d&&(d.get||d.set)?Object.defineProperty(n,s,d):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}e("core-js/modules/web.dom.iterable");var d=s(e("co")),l=s(e("url")),c=e("./calendars"),i=e("./contacts"),p=s(e("./fuzzy_url_equals")),u=e("./model"),m=o(e("./namespace")),f=o(e("./request")),h=s(e("./debug")),y=(0,h["default"])("dav:accounts"),g={accountType:"caldav",loadCollections:!0,loadObjects:!1,serviceDiscovery:!0},b=d["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Attempt service discovery."),r=l["default"].parse(t.server),r.protocol=r.protocol||"http",a=l["default"].format({protocol:r.protocol,host:r.host,pathname:"/.well-known/".concat(n.accountType)}),o=f.basic({method:"GET"}),e.prev=5,e.next=8,n.xhr.send(o,a,{sandbox:n.sandbox});case 8:if(s=e.sent,!(300<=s.status&&400>s.status)){e.next=14;break}if(d=s.getResponseHeader("Location"),!("string"==typeof d&&d.length)){e.next=14;break}return y("Discovery redirected to ".concat(d)),e.abrupt("return",l["default"].format({protocol:r.protocol,host:r.host,pathname:d}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),y("Discovery failed... failover to the provided url");case 19:return e.abrupt("return",r.href);case 20:case"end":return e.stop();}},e,null,[[5,16]])})),_=d["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Fetch principal url from context path ".concat(t.rootUrl,".")),r=f.propfind({props:[{name:"current-user-principal",namespace:m.DAV}],depth:0,mergeResponses:!0}),e.next=4,n.xhr.send(r,t.rootUrl,{sandbox:n.sandbox});case 4:return a=e.sent,o=a.props,y("Received principal: ".concat(o.currentUserPrincipal)),e.abrupt("return",l["default"].resolve(t.rootUrl,o.currentUserPrincipal));case 8:case"end":return e.stop();}},e)})),x=d["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,d,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Fetch home url from principal url ".concat(t.principalUrl,".")),"caldav"===n.accountType?r={name:"calendar-home-set",namespace:m.CALDAV}:"carddav"===n.accountType&&(r={name:"addressbook-home-set",namespace:m.CARDDAV}),a=f.propfind({props:[r]}),e.next=5,n.xhr.send(a,t.principalUrl,{sandbox:n.sandbox});case 5:return o=e.sent,s=o.find(function(e){return(0,p["default"])(t.principalUrl,e.href)}),d=s.props,"caldav"===n.accountType?(y("Received home: ".concat(d.calendarHomeSet)),c=d.calendarHomeSet):"carddav"===n.accountType&&(y("Received home: ".concat(d.addressbookHomeSet)),c=d.addressbookHomeSet),e.abrupt("return",l["default"].resolve(t.rootUrl,c));case 10:case"end":return e.stop();}},e)}));n.createAccount=d["default"].wrap(regeneratorRuntime.mark(function e(t){var n,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({},g,t),"boolean"!=typeof t.loadObjects&&(t.loadObjects=t.loadCollections),n=new u.Account({server:t.server,credentials:t.xhr.credentials}),"undefined"!=typeof t.serviceDiscovery&&!t.serviceDiscovery){e.next=9;break}return e.next=6,b(n,t);case 6:n.rootUrl=e.sent,e.next=10;break;case 9:n.rootUrl=n.server;case 10:return e.next=12,_(n,t);case 12:return n.principalUrl=e.sent,e.next=15,x(n,t);case 15:if(n.homeUrl=e.sent,t.loadCollections){e.next=18;break}return e.abrupt("return",n);case 18:return"caldav"===t.accountType?(r="calendars",a=c.listCalendars,o=c.listCalendarObjects):"carddav"===t.accountType&&(r="addressBooks",a=i.listAddressBooks,o=i.listVCards),e.next=21,a(n,t);case 21:if(s=e.sent,n[r]=s,t.loadObjects){e.next=25;break}return e.abrupt("return",n);case 25:return e.next=27,s.map(d["default"].wrap(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(n,t);case 3:n.objects=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),n.error=e.t0;case 9:case"end":return e.stop();}},e,null,[[0,6]])})));case 27:return n[r]=n[r].filter(function(e){return!e.error}),e.abrupt("return",n);case 29:case"end":return e.stop();}},e)}))},{"./calendars":2,"./contacts":5,"./debug":6,"./fuzzy_url_equals":7,"./model":9,"./namespace":10,"./request":12,co:25,"core-js/modules/web.dom.iterable":83,url:90}],2:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var d=o?Object.getOwnPropertyDescriptor(e,s):null;d&&(d.get||d.set)?Object.defineProperty(n,s,d):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return t.basicSync=w,t.webdavSync=A,f.syncCollection(e,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.createCalendarObject=function(e,t){var n=c["default"].resolve(e.url,t.filename);return t.contentType=t.contentType||"text/calendar; charset=utf-8",f.createObject(n,t.data,t)},n.updateCalendarObject=function(e,t){return t.contentType=t.contentType||"text/calendar; charset=utf-8",f.updateObject(e.url,e.calendarData,e.etag,t)},n.deleteCalendarObject=function(e,t){return f.deleteObject(e.url,e.etag,t)},n.syncCalendar=d,n.syncCaldavAccount=n.getCalendarObjects=n.listCalendarObjects=n.listCalendars=void 0,e("core-js/modules/web.dom.iterable");var l=s(e("co")),c=s(e("url")),i=s(e("./fuzzy_url_equals")),p=e("./model"),u=o(e("./namespace")),m=o(e("./request")),f=o(e("./webdav")),h=s(e("./debug")),y=(0,h["default"])("dav:calendars"),g=new Set(["VEVENT","VTODO","VJOURNAL","VFREEBUSY","VTIMEZONE","VALARM"]),b=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Fetch calendars from home url ".concat(t.homeUrl)),r=m.propfind({props:[{name:"calendar-description",namespace:u.CALDAV},{name:"calendar-timezone",namespace:u.CALDAV},{name:"displayname",namespace:u.DAV},{name:"getctag",namespace:u.CALENDAR_SERVER},{name:"resourcetype",namespace:u.DAV},{name:"supported-calendar-component-set",namespace:u.CALDAV},{name:"sync-token",namespace:u.DAV},{name:"supported-report-set",namespace:u.DAV}],depth:1}),e.next=4,n.xhr.send(r,t.homeUrl,{sandbox:n.sandbox});case 4:return a=e.sent,y("Found ".concat(a.length," calendars.")),o=a.filter(function(e){return e.props.resourcetype.includes("calendar")}).filter(function(e){var t=e.props.supportedCalendarComponentSet||[];return t.reduce(function(e,t){return e||g.has(t)},!1)}).map(function(e){return y("Found calendar ".concat(e.props.displayname,",\n             props: ").concat(JSON.stringify(e.props))),new p.Calendar({data:e,account:t,description:e.props.calendarDescription,timezone:e.props.calendarTimezone,url:c["default"].resolve(t.rootUrl,e.href),ctag:e.props.getctag,displayName:e.props.displayname,components:e.props.supportedCalendarComponentSet,resourcetype:e.props.resourcetype,syncToken:e.props.syncToken,reports:e.props.supportedReportSet})}),e.abrupt("return",o);case 8:case"end":return e.stop();}},e)}));n.listCalendars=b;var _=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Doing REPORT on calendar ".concat(t.url," which belongs to\n         ").concat(t.account.credentials.username)),r=n.filters||[{type:"comp-filter",attrs:{name:"VCALENDAR"},children:[{type:"comp-filter",attrs:{name:"VEVENT"}}]}],a=m.calendarQuery({depth:1,props:[{name:"getetag",namespace:u.DAV},{name:"calendar-data",namespace:u.CALDAV}],filters:r}),e.next=5,n.xhr.send(a,t.url,{sandbox:n.sandbox});case 5:return o=e.sent,e.abrupt("return",o.map(function(e){return y("Found calendar object with url ".concat(e.href)),new p.CalendarObject({data:e,calendar:t,url:c["default"].resolve(t.account.rootUrl,e.href),etag:e.props.getetag,calendarData:e.props.calendarData})}));case 7:case"end":return e.stop();}},e)}));n.listCalendarObjects=_;var x=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Doing REPORT on calendar ".concat(t.url," which belongs to\n         ").concat(t.account.credentials.username)),r=n.props||[{name:"getetag",namespace:u.DAV},{name:"calendar-data",namespace:u.CALDAV}],a=m.calendarMultiget({props:r,paths:n.paths}),e.next=5,n.xhr.send(a,t.url,{sandbox:n.sandbox});case 5:return o=e.sent,e.abrupt("return",o.map(function(e){return y("Found calendar object with url ".concat(e.href)),new p.CalendarObject({data:e,calendar:t,url:c["default"].resolve(t.account.rootUrl,e.href),etag:e.props.getetag,calendarData:e.props.calendarData})}));case 7:case"end":return e.stop();}},e)}));n.getCalendarObjects=x;var v=l["default"].wrap(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<a.length&&void 0!==a[1]?a[1]:{},n.loadObjects=!1,t.calendars||(t.calendars=[]),e.next=5,b(t,n);case 5:return r=e.sent,r.filter(function(e){return t.calendars.every(function(t){return!(0,i["default"])(t.url,e.url)})}).forEach(function(e){t.calendars.push(e)}),n.loadObjects=!0,e.next=10,t.calendars.map(l["default"].wrap(regeneratorRuntime.mark(function e(r,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(r,n);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),y("Sync calendar ".concat(r.displayName," failed with ").concat(e.t0)),t.calendars.splice(a,1);case 9:case"end":return e.stop();}},e,null,[[0,5]])})));case 10:return e.abrupt("return",t);case 11:case"end":return e.stop();}},e)}));n.syncCaldavAccount=v;var w=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.isCollectionDirty(t,n);case 2:if(r=e.sent,r){e.next=6;break}return y("Local ctag matched remote! No need to sync :)."),e.abrupt("return",t);case 6:return y("ctag changed so we need to fetch stuffs."),e.next=9,_(t,n);case 9:return t.objects=e.sent,e.abrupt("return",t);case 11:case"end":return e.stop();}},e)})),A=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.syncCollection({props:[{name:"getetag",namespace:u.DAV},{name:"calendar-data",namespace:u.CALDAV}],syncLevel:1,syncToken:t.syncToken}),e.next=3,n.xhr.send(r,t.url,{sandbox:n.sandbox});case 3:return a=e.sent,a.responses.forEach(function(e){var n=t.objects.filter(function(t){return(0,i["default"])(t.url,e.href)})[0];n&&(n.etag=e.props.getetag,n.calendarData=e.props.calendarData)}),t.syncToken=a.syncToken,e.abrupt("return",t);case 7:case"end":return e.stop();}},e)}))},{"./debug":6,"./fuzzy_url_equals":7,"./model":9,"./namespace":10,"./request":12,"./webdav":23,co:25,"core-js/modules/web.dom.iterable":83,url:90}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"_",n=e.split(t);return[n[0]].concat(n.slice(1).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")},e("core-js/modules/es6.regexp.split")},{"core-js/modules/es6.regexp.split":82}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n["default"]=e,t&&t.set(e,n),n}e("core-js/modules/web.dom.iterable"),Object.defineProperty(n,"__esModule",{value:!0}),n.Client=void 0;var c=function(e){return e&&e.__esModule?e:{default:e}}(e("url")),i=l(e("./accounts")),p=l(e("./calendars")),u=l(e("./contacts")),m=function(){function e(t){r(this,e);var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.xhr=t,Object.assign(this,n),this._accounts=i,this._calendars=p,this._contacts=u}return o(e,[{key:"send",value:function(e,t,n){if(this.baseUrl){var r=c["default"].parse(t);t=c["default"].resolve(this.baseUrl,r.path)}return this.xhr.send(e,t,n)}},{key:"createAccount",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.xhr=e.xhr||this.xhr,i.createAccount(e)}},{key:"createCalendarObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,p.createCalendarObject(e,t)}},{key:"updateCalendarObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,p.updateCalendarObject(e,t)}},{key:"deleteCalendarObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,p.deleteCalendarObject(e,t)}},{key:"syncCalendar",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,p.syncCalendar(e,t)}},{key:"syncCaldavAccount",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,p.syncCaldavAccount(e,t)}},{key:"createCard",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,u.createCard(e,t)}},{key:"updateCard",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,u.updateCard(e,t)}},{key:"deleteCard",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,u.deleteCard(e,t)}},{key:"syncAddressBook",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,u.syncAddressBook(e,t)}},{key:"syncCarddavAccount",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.xhr=t.xhr||this.xhr,u.syncCarddavAccount(e,t)}}]),e}();n.Client=m},{"./accounts":1,"./calendars":2,"./contacts":5,"core-js/modules/web.dom.iterable":83,url:90}],5:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var d=o?Object.getOwnPropertyDescriptor(e,s):null;d&&(d.get||d.set)?Object.defineProperty(n,s,d):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return t.basicSync=x,t.webdavSync=v,f.syncCollection(e,t)}e("core-js/modules/web.dom.iterable"),Object.defineProperty(n,"__esModule",{value:!0}),n.createCard=function(e,t){var n=c["default"].resolve(e.url,t.filename);return f.createObject(n,t.data,t)},n.updateCard=function(e,t){return f.updateObject(e.url,e.addressData,e.etag,t)},n.deleteCard=function(e,t){return f.deleteObject(e.url,e.etag,t)},n.syncAddressBook=d,n.syncCarddavAccount=n.listVCards=n.listAddressBooks=void 0;var l=s(e("co")),c=s(e("url")),i=s(e("./fuzzy_url_equals")),p=e("./model"),u=o(e("./namespace")),m=o(e("./request")),f=o(e("./webdav")),h=s(e("./debug")),y=(0,h["default"])("dav:contacts"),g=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Fetch address books from home url ".concat(t.homeUrl)),r=m.propfind({props:[{name:"displayname",namespace:u.DAV},{name:"getctag",namespace:u.CALENDAR_SERVER},{name:"resourcetype",namespace:u.DAV},{name:"sync-token",namespace:u.DAV}],depth:1}),e.next=4,n.xhr.send(r,t.homeUrl,{sandbox:n.sandbox});case 4:return a=e.sent,o=a.filter(function(e){return"string"==typeof e.props.displayname}).map(function(e){return y("Found address book named ".concat(e.props.displayname,",\n             props: ").concat(JSON.stringify(e.props))),new p.AddressBook({data:e,account:t,url:c["default"].resolve(t.rootUrl,e.href),ctag:e.props.getctag,displayName:e.props.displayname,resourcetype:e.props.resourcetype,syncToken:e.props.syncToken})}),e.next=8,o.map(l["default"].wrap(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.supportedReportSet(t,n);case 2:t.reports=e.sent;case 3:case"end":return e.stop();}},e)})));case 8:return e.abrupt("return",o);case 9:case"end":return e.stop();}},e)}));n.listAddressBooks=g;var b=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y("Doing REPORT on address book ".concat(t.url," which belongs to\n        ").concat(t.account.credentials.username)),r=m.addressBookQuery({depth:1,props:[{name:"getetag",namespace:u.DAV},{name:"address-data",namespace:u.CARDDAV}]}),e.next=4,n.xhr.send(r,t.url,{sandbox:n.sandbox});case 4:return a=e.sent,e.abrupt("return",a.map(function(e){return y("Found vcard with url ".concat(e.href)),new p.VCard({data:e,addressBook:t,url:c["default"].resolve(t.account.rootUrl,e.href),etag:e.props.getetag,addressData:e.props.addressData})}));case 6:case"end":return e.stop();}},e)}));n.listVCards=b;var _=l["default"].wrap(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<a.length&&void 0!==a[1]?a[1]:{},n.loadObjects=!1,t.addressBooks||(t.addressBooks=[]),e.next=5,g(t,n);case 5:return r=e.sent,r.filter(function(e){return t.addressBooks.every(function(t){return!(0,i["default"])(t.url,e.url)})}).forEach(function(e){return t.addressBooks.push(e)}),n.loadObjects=!0,e.next=10,t.addressBooks.map(l["default"].wrap(regeneratorRuntime.mark(function e(r,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(r,n);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),y("Syncing ".concat(r.displayName," failed with ").concat(e.t0)),t.addressBooks.splice(a,1);case 9:case"end":return e.stop();}},e,null,[[0,5]])})));case 10:return e.abrupt("return",t);case 11:case"end":return e.stop();}},e)}));n.syncCarddavAccount=_;var x=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.isCollectionDirty(t,n),r){e.next=4;break}return y("Local ctag matched remote! No need to sync :)."),e.abrupt("return",t);case 4:return y("ctag changed so we need to fetch stuffs."),e.next=7,b(t,n);case 7:return t.objects=e.sent,e.abrupt("return",t);case 9:case"end":return e.stop();}},e)})),v=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.syncCollection({props:[{name:"getetag",namespace:u.DAV},{name:"address-data",namespace:u.CARDDAV}],syncLevel:1,syncToken:t.syncToken}),e.next=3,n.xhr.send(r,t.url,{sandbox:n.sandbox});case 3:return a=e.sent,a.responses.forEach(function(e){var n=t.objects.filter(function(t){return(0,i["default"])(t.url,e.href)})[0];n&&(n.etag=e.props.getetag,n.addressData=e.props.addressData)}),t.syncToken=a.syncToken,e.abrupt("return",t);case 7:case"end":return e.stop();}},e)}))},{"./debug":6,"./fuzzy_url_equals":7,"./model":9,"./namespace":10,"./request":12,"./webdav":23,co:25,"core-js/modules/web.dom.iterable":83,url:90}],6:[function(e,t,n){"use strict";function r(e){return function(t){r.enabled&&console.log("[".concat(e,"] ").concat(t))}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},{}],7:[function(e,t,n){'use strict';function r(e,t){return-1!==e.indexOf(t)||"/"===t.charAt(t.length-1)&&-1!==e.indexOf(t.slice(0,-1))}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e,t){return r(e,t)||r(t,e)}},{}],8:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var d=o?Object.getOwnPropertyDescriptor(e,s):null;d&&(d.get||d.set)?Object.defineProperty(n,s,d):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}e("core-js/modules/web.dom.iterable"),Object.defineProperty(n,"__esModule",{value:!0});var s={debug:!0,ns:!0,Request:!0,request:!0,transport:!0,version:!0,createAccount:!0,Client:!0,Sandbox:!0,createSandbox:!0};Object.defineProperty(n,"debug",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"Request",{enumerable:!0,get:function(){return c.Request}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return p.version}}),Object.defineProperty(n,"createAccount",{enumerable:!0,get:function(){return u.createAccount}}),Object.defineProperty(n,"Client",{enumerable:!0,get:function(){return f.Client}}),Object.defineProperty(n,"Sandbox",{enumerable:!0,get:function(){return g.Sandbox}}),Object.defineProperty(n,"createSandbox",{enumerable:!0,get:function(){return g.createSandbox}}),n.transport=n.request=n.ns=void 0;var d=function(e){return e&&e.__esModule?e:{default:e}}(e("./debug")),l=o(e("./namespace"));n.ns=l;var c=o(e("./request"));n.request=c;var i=o(e("./transport"));n.transport=i;var p=e("../package"),u=e("./accounts"),m=e("./calendars");Object.keys(m).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return m[e]}})});var f=e("./client"),h=e("./contacts");Object.keys(h).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return h[e]}})});var y=e("./model");Object.keys(y).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return y[e]}})});var g=e("./sandbox")},{"../package":95,"./accounts":1,"./calendars":2,"./client":4,"./contacts":5,"./debug":6,"./model":9,"./namespace":10,"./request":12,"./sandbox":13,"./transport":22,"core-js/modules/web.dom.iterable":83}],9:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function d(e){var t=i();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return t&&("object"===r(t)||"function"==typeof t)?t:c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.VCard=n.CalendarObject=n.DAVObject=n.Calendar=n.AddressBook=n.DAVCollection=n.Credentials=n.Account=void 0;n.Account=function e(t){u(this,e),Object.assign(this,{server:null,credentials:null,rootUrl:null,principalUrl:null,homeUrl:null,calendars:null,addressBooks:null},t)};n.Credentials=function e(t){u(this,e),Object.assign(this,{username:null,password:null,clientId:null,clientSecret:null,authorizationCode:null,redirectUrl:null,tokenUrl:null,accessToken:null,refreshToken:null,expiration:null},t)};var m=function e(t){u(this,e),Object.assign(this,{data:null,objects:null,account:null,ctag:null,description:null,displayName:null,reports:null,resourcetype:null,syncToken:null,url:null},t)};n.DAVCollection=m;var f=function(e){function t(e){return u(this,t),n.call(this,e)}a(t,e);var n=d(t);return t}(m);n.AddressBook=f;var h=function(e){function t(e){var r;return u(this,t),r=n.call(this,e),Object.assign(c(r),{components:null,timezone:null},e),r}a(t,e);var n=d(t);return t}(m);n.Calendar=h;var y=function e(t){u(this,e),Object.assign(this,{data:null,etag:null,url:null},t)};n.DAVObject=y;var g=function(e){function t(e){var r;return u(this,t),r=n.call(this,e),Object.assign(c(r),{calendar:null,calendarData:null},e),r}a(t,e);var n=d(t);return t}(y);n.CalendarObject=g;var b=function(e){function t(e){var r;return u(this,t),r=n.call(this,e),Object.assign(c(r),{addressBook:null,addressData:null},e),r}a(t,e);var n=d(t);return t}(y);n.VCard=b},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DAV=n.CARDDAV=n.CALDAV=n.CALDAV_APPLE=n.CALENDAR_SERVER=void 0;n.CALENDAR_SERVER="http://calendarserver.org/ns/";n.CALDAV_APPLE="http://apple.com/ns/ical/";n.CALDAV="urn:ietf:params:xml:ns:caldav";n.CARDDAV="urn:ietf:params:xml:ns:carddav";n.DAV="DAV:"},{}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=new p,n=t.parseFromString(e,"text/xml"),r=h.multistatus(i(n,"multistatus"));return f("input:\n".concat(e,"\noutput:\n").concat(JSON.stringify(r),"\n")),r}function o(e,t,n){var r={};for(var a in t)t[a]&&(r[a]=[]);return l(e).forEach(function(n){return s(e,n,t,r)}),d(r,t,n)}function s(e,t,n,r){if(!(3===t.nodeType&&/^\s+$/.test(t.nodeValue))){var a=(0,u["default"])(t.localName,"-");if(!(a in n)){f("Unexpected node of type "+a+" encountered while parsing "+e.localName+" node!");var o=t.textContent;return a in r?(Array.isArray(r[a])||(r[a]=[r[a]]),void r[a].push(o)):void(r[a]=o)}var s=h[a](t);n[a]?r[a].push(s):r[a]=s}}function d(e,t,n){return n?t[n]?e[n].reduce(function(e,t){return e.concat(t)},[]):e[n]:e}function l(e){var t=e.childNodes;return Array.isArray(t)||(t=Array.prototype.slice.call(t)),t}function c(e,t){return l(e).filter(function(e){return e.localName===t})}function i(e,t){return c(e,t)[0]}Object.defineProperty(n,"__esModule",{value:!0}),n.multistatus=a;var p,u=r(e("./camelize")),m=r(e("./debug")),f=(0,m["default"])("dav:parser");p="undefined"!=typeof self&&"DOMParser"in self?self.DOMParser:e("xmldom").DOMParser;var h={multistatus:function(e){return o(e,{response:!0})},response:function(e){return o(e,{propstat:!0,href:!1})},propstat:function(e){return o(e,{prop:!1})},prop:function(e){return o(e,{resourcetype:!1,supportedCalendarComponentSet:!1,supportedReportSet:!1,currentUserPrincipal:!1})},resourcetype:function(e){return l(e).map(function(e){return e.localName})},supportedCalendarComponentSet:function(e){return o(e,{comp:!0},"comp")},supportedReportSet:function(e){return o(e,{supportedReport:!0},"supportedReport")},comp:function(e){return e.getAttribute("name")},supportedReport:function(e){return o(e,{report:!1},"report")},report:function(e){return l(e).map(function(e){return e.localName})},href:function(e){return decodeURIComponent(l(e)[0].nodeValue)},currentUserPrincipal:function(e){return o(e,{href:!1},"href")}}},{"./camelize":3,"./debug":6,xmldom:92}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var d=r?Object.getOwnPropertyDescriptor(e,s):null;d&&(d.get||d.set)?Object.defineProperty(n,s,d):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}function d(e,t){return new f({method:"REPORT",requestData:e,transformRequest:function(e){p(e,t)},transformResponse:function(e){return(0,u.multistatus)(e.responseText).response.map(function(e){return{href:e.href,props:i(e.propstat)}})}})}function l(e){if(/404/g.test(e.status))return null;if(/5\d{2}/g.test(e.status)||/4\d{2}/g.test(e.status))throw new Error("Bad status on propstat: "+e.status);return"prop"in e?e.prop:null}function c(e){return e.reduce(function(e,t){return Object.assign(e,t)},{})}function i(e){return c(e.map(l).filter(function(e){return e&&"object"===a(e)}))}function p(e,t){e.setRequestHeader("Content-Type",t.contentType||"application/xml;charset=utf-8"),t.depth!==void 0&&e.setRequestHeader("Depth",t.depth),t.etag!==void 0&&e.setRequestHeader("If-Match",t.etag)}e("core-js/modules/web.dom.iterable"),Object.defineProperty(n,"__esModule",{value:!0}),n.addressBookQuery=function(e){return d(m.addressBookQuery({props:e.props||[]}),{depth:e.depth})},n.basic=function(e){return new f({method:e.method,requestData:e.data,transformRequest:function(t){p(t,e)}})},n.calendarMultiget=function(e){return d(m.calendarMultiget({props:e.props||[],paths:e.paths||[]}),{})},n.calendarQuery=function(e){return d(m.calendarQuery({props:e.props||[],filters:e.filters||[],timezone:e.timezone}),{depth:e.depth})},n.collectionQuery=d,n.propfind=function(e){var t=m.propfind({props:e.props});return new f({method:"PROPFIND",requestData:t,transformRequest:function(t){p(t,e)},transformResponse:function(t){var n=(0,u.multistatus)(t.responseText).response.map(function(e){return{href:e.href,props:i(e.propstat)}});if(!e.mergeResponses)return n;var r=c(n.map(function(e){return e.props})),a=n.map(function(e){return e.href});return{props:r,hrefs:a}}})},n.syncCollection=function(e){var t=m.syncCollection({props:e.props,syncLevel:e.syncLevel,syncToken:e.syncToken});return new f({method:"REPORT",requestData:t,transformRequest:function(t){p(t,e)},transformResponse:function(e){var t=(0,u.multistatus)(e.responseText),n=t.response.map(function(e){return{href:e.href,props:i(e.propstat)}});return{responses:n,syncToken:t.syncToken}}})},n.mergeProps=c,n.getProps=i,n.setRequestHeaders=p,n.Request=void 0;var u=e("./parser"),m=s(e("./template/index")),f=function e(){r(this,e);var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,{method:null,requestData:null,transformRequest:null,transformResponse:null,onerror:null},t)};n.Request=f},{"./parser":11,"./template/index":18,"core-js/modules/web.dom.iterable":83}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}Object.defineProperty(n,"__esModule",{value:!0}),n.createSandbox=function(){return new l},n.Sandbox=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(e("./debug")),d=(0,s["default"])("dav:sandbox"),l=function(){function e(){r(this,e),this.requestList=[]}return o(e,[{key:"add",value:function(e){d("Adding request to sandbox."),this.requestList.push(e)}},{key:"abort",value:function(){d("Aborting sandboxed requests."),this.requestList.forEach(function(e){return e.abort()})}}]),e}();n.Sandbox=l},{"./debug":6}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return"<card:addressbook-query xmlns:card=\"urn:ietf:params:xml:ns:carddav\"\n                          xmlns:d=\"DAV:\">\n    <d:prop>\n      ".concat(e.props.map(r["default"]).join(""),"\n    </d:prop>\n    <!-- According to http://stackoverflow.com/questions/23742568/google-carddav-api-addressbook-multiget-returns-400-bad-request,\n         Google's CardDAV server requires a filter element. I don't think all addressbook-query calls need a filter in the spec though? -->\n    <card:filter>\n      <card:prop-filter name=\"FN\">\n      </card:prop-filter>\n    </card:filter>\n  </card:addressbook-query>")};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./prop"))},{"./prop":19}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){var t=e.paths.map(function(e){return"<d:href>".concat(e,"</d:href>")}).join("");return"<c:calendar-multiget xmlns:c=\"urn:ietf:params:xml:ns:caldav\"\n                    xmlns:cs=\"http://calendarserver.org/ns/\"\n                    xmlns:d=\"DAV:\">\n    <d:prop>\n      ".concat(e.props.map(r["default"]).join(""),"\n    </d:prop>\n    ").concat(t,"\n  </c:calendar-multiget>")};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./prop"))},{"./prop":19}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return"<c:calendar-query xmlns:c=\"urn:ietf:params:xml:ns:caldav\"\n                    xmlns:cs=\"http://calendarserver.org/ns/\"\n                    xmlns:ca=\"http://apple.com/ns/ical/\"\n                    xmlns:d=\"DAV:\">\n    <d:prop>\n      ".concat(e.props.map(o["default"]).join(""),"\n    </d:prop>\n    <c:filter>\n      ").concat(e.filters.map(a["default"]).join(""),"\n    </c:filter>\n    ").concat(e.timezone?"<c:timezone>"+e.timezone+"</c:timezone>":"","\n  </c:calendar-query>")};var a=r(e("./filter")),o=r(e("./prop"))},{"./filter":17,"./prop":19}],17:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){if(!e.children||!e.children.length)return"undefined"==typeof e.value?"<c:".concat(e.type," ").concat(o(e.attrs),"/>"):"<c:".concat(e.type," ").concat(o(e.attrs),">").concat(e.value,"</c:").concat(e.type,">");var t=e.children;return"string"!=typeof t&&(t=e.children.map(a).join("")),"<c:".concat(e.type," ").concat(o(e.attrs),">\n            ").concat(t,"\n          </c:").concat(e.type,">")}function o(e){return"object"===r(e)?Object.keys(e).map(function(t){return"".concat(t,"=\"").concat(e[t],"\"")}).join(" "):""}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a,e("core-js/modules/web.dom.iterable")},{"core-js/modules/web.dom.iterable":83}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"addressBookQuery",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(n,"calendarMultiget",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(n,"calendarQuery",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"propfind",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"syncCollection",{enumerable:!0,get:function(){return l["default"]}});var a=r(e("./address_book_query")),o=r(e("./calendar_multiget")),s=r(e("./calendar_query")),d=r(e("./propfind")),l=r(e("./sync_collection"))},{"./address_book_query":14,"./calendar_multiget":15,"./calendar_query":16,"./propfind":20,"./sync_collection":21}],19:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var d=o?Object.getOwnPropertyDescriptor(e,s):null;d&&(d.get||d.set)?Object.defineProperty(n,s,d):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}function s(e){switch(e){case d.DAV:return"d";case d.CALENDAR_SERVER:return"cs";case d.CALDAV_APPLE:return"ca";case d.CALDAV:return"c";case d.CARDDAV:return"card";default:throw new Error("Unrecognized xmlns "+e);}}e("core-js/modules/web.dom.iterable"),Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return"<".concat(s(e.namespace),":").concat(e.name," />")};var d=o(e("../namespace"))},{"../namespace":10,"core-js/modules/web.dom.iterable":83}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return"<d:propfind xmlns:c=\"urn:ietf:params:xml:ns:caldav\"\n              xmlns:card=\"urn:ietf:params:xml:ns:carddav\"\n              xmlns:cs=\"http://calendarserver.org/ns/\"\n              xmlns:ca=\"http://apple.com/ns/ical/\"\n              xmlns:d=\"DAV:\">\n    <d:prop>\n      ".concat(e.props.map(r["default"]).join(""),"\n    </d:prop>\n  </d:propfind>")};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./prop"))},{"./prop":19}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return"<d:sync-collection xmlns:c=\"urn:ietf:params:xml:ns:caldav\"\n                     xmlns:card=\"urn:ietf:params:xml:ns:carddav\"\n                     xmlns:d=\"DAV:\">\n    <d:sync-level>".concat(e.syncLevel,"</d:sync-level>\n    <d:sync-token>").concat(e.syncToken,"</d:sync-token>\n    <d:prop>\n      ").concat(e.props.map(r["default"]).join(""),"\n    </d:prop>\n  </d:sync-collection>")};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./prop"))},{"./prop":19}],22:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function d(e){var t=i();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return t&&("object"===r(t)||"function"==typeof t)?t:c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function f(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return e.accessToken?e.refreshToken&&g(e)?T(e,t):Promise.resolve(e.accessToken):k(e,t)}function g(e){return"number"==typeof e.expiration&&Date.now()>e.expiration}Object.defineProperty(n,"__esModule",{value:!0}),n.OAuth2=n.Basic=n.Transport=void 0;var b=h(e("co")),_=h(e("querystring")),x=e("httpauth"),v=h(e("./xmlhttprequest")),w=function(){function e(t){u(this,e),this.credentials=t||null}return f(e,[{key:"send",value:function(){}}]),e}();n.Transport=w;var A=function(e){function t(e){var r;return u(this,t),r=n.call(this,e),r.auth=new x.AuthCalc(r.credentials.username,r.credentials.password),r}a(t,e);var n=d(t);return f(t,[{key:"send",value:function(e,t,n){return(0,b["default"])(regeneratorRuntime.mark(function r(){var a,o,s,d,l,c,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a=n&&n.sandbox,o=e.transformRequest,s=e.transformResponse,d=e.onerror,c=1;case 5:if(!(0<=c)){r.next=30;break}return c--,i=new v["default"],a&&a.add(i),i.open(e.method,t,!0),this.auth.sign(i.request,{url:t,type:e.method,data:e.requestData}),o&&o(i),r.prev=12,r.next=15,i.send(e.requestData);case 15:return l=s?s(i):i,r.abrupt("break",30);case 19:if(r.prev=19,r.t0=r["catch"](12),console.debug("dav.Transport.Basic::OnError: "+i.request.status),401!==i.request.status&&407!==i.request.status){r.next=26;break}return console.debug("Reinitializing the auth context..."),this.auth.updateServerResponse(i.request),r.abrupt("continue",5);case 26:throw d&&d(r.t0),r.t0;case 28:r.next=5;break;case 30:return r.abrupt("return",l);case 31:case"end":return r.stop();}},r,this,[[12,19]])}).bind(this))}}]),t}(w);n.Basic=A;var N=function(e){function t(e){return u(this,t),n.call(this,e)}a(t,e);var n=d(t);return f(t,[{key:"send",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return(0,b["default"])(regeneratorRuntime.mark(function r(){var a,o,s,d,l,c,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.sandbox,o=e.transformRequest,s=e.transformResponse,d=e.onerror,"retry"in n||(n.retry=!0),r.prev=5,r.next=8,y(this.credentials,n);case 8:return i=r.sent,c=new v["default"],a&&a.add(c),c.open(e.method,t,!0),c.setRequestHeader("Authorization","Bearer ".concat(i)),o&&o(c),r.next=16,c.send(e.requestData);case 16:l=s?s(c):c,r.next=27;break;case 19:if(r.prev=19,r.t0=r["catch"](5),!(n.retry&&401===c.status)){r.next=25;break}return this.credentials.expiration=0,n.retry=!1,r.abrupt("return",this.send(e,t,n));case 25:throw d&&d(r.t0),r.t0;case 27:return r.abrupt("return",l);case 28:case"end":return r.stop();}},r,this,[[5,19]])}).bind(this))}}]),t}(w);n.OAuth2=N;var k=b["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sandbox,a=new v["default"],r&&r.add(a),a.open("POST",t.tokenUrl,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o=_["default"].stringify({code:t.authorizationCode,redirect_uri:t.redirectUrl,client_id:t.clientId,client_secret:t.clientSecret,grant_type:"authorization_code"}),s=Date.now(),e.next=9,a.send(o);case 9:return d=JSON.parse(a.responseText),t.accessToken=d.access_token,t.refreshToken="refresh_token"in d?d.refresh_token:null,t.expiration="expires_in"in d?s+d.expires_in:null,e.abrupt("return",d.access_token);case 14:case"end":return e.stop();}},e)})),T=b["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sandbox,a=new v["default"],r&&r.add(a),a.open("POST",t.tokenUrl,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o=_["default"].stringify({client_id:t.clientId,client_secret:t.clientSecret,refresh_token:t.refreshToken,grant_type:"refresh_token"}),s=Date.now(),e.next=9,a.send(o);case 9:return d=JSON.parse(a.responseText),t.accessToken=d.access_token,t.expiration="expires_in"in d?s+d.expires_in:null,e.abrupt("return",d.access_token);case 13:case"end":return e.stop();}},e)}))},{"./xmlhttprequest":24,co:25,httpauth:84,querystring:89}],23:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var d=o?Object.getOwnPropertyDescriptor(e,s):null;d&&(d.get||d.set)?Object.defineProperty(n,s,d):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n;return n="syncMethod"in t?t.syncMethod:e.reports&&-1!==e.reports.indexOf("syncCollection")?"webdav":"basic","webdav"===n?(m("rfc 6578 sync."),t.webdavSync(e,t)):(m("basic sync."),t.basicSync(e,t))}e("core-js/modules/web.dom.iterable"),Object.defineProperty(n,"__esModule",{value:!0}),n.createObject=function(e,t,n){var r=p.basic({method:"PUT",data:t,contentType:n.contentType});return n.xhr.send(r,e,{sandbox:n.sandbox})},n.updateObject=function(e,t,n,r){var a=p.basic({method:"PUT",data:t,etag:n,contentType:r.contentType});return r.xhr.send(a,e,{sandbox:r.sandbox})},n.deleteObject=function(e,t,n){var r=p.basic({method:"DELETE",etag:t});return n.xhr.send(r,e,{sandbox:n.sandbox})},n.syncCollection=d,n.isCollectionDirty=n.supportedReportSet=void 0;var l=s(e("co")),c=s(e("./fuzzy_url_equals")),i=o(e("./namespace")),p=o(e("./request")),u=s(e("./debug")),m=(0,u["default"])("dav:webdav"),f=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m("Checking supported report set for collection at "+t.url),r=p.propfind({props:[{name:"supported-report-set",namespace:i.DAV}],depth:1,mergeResponses:!0}),e.next=4,n.xhr.send(r,t.url,{sandbox:n.sandbox});case 4:return a=e.sent,e.abrupt("return",a.props.supportedReportSet);case 6:case"end":return e.stop();}},e)}));n.supportedReportSet=f;var h=l["default"].wrap(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ctag){e.next=3;break}return m("Missing ctag."),e.abrupt("return",!1);case 3:return m("Fetch remote getctag prop."),r=p.propfind({props:[{name:"getctag",namespace:i.CALENDAR_SERVER}],depth:0}),e.next=7,n.xhr.send(r,t.account.homeUrl,{sandbox:n.sandbox});case 7:if(a=e.sent,o=a.filter(function(e){return(0,c["default"])(t.url,e.href)})[0],o){e.next=11;break}throw new Error("Could not find collection on remote. Was it deleted?");case 11:return m("Check whether cached ctag matches remote."),e.abrupt("return",t.ctag!==o.props.getctag);case 13:case"end":return e.stop();}},e)}));n.isCollectionDirty=h},{"./debug":6,"./fuzzy_url_equals":7,"./namespace":10,"./request":12,co:25,"core-js/modules/web.dom.iterable":83}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s,d=function(e){return e&&e.__esModule?e:{default:e}}(e("./debug")),l=(0,d["default"])("dav:xmlhttprequest");s="undefined"!=typeof self&&"XMLHttpRequest"in self?self.XMLHttpRequest:e("xmlhttprequest").XMLHttpRequest;var c=function(){function e(t){var n=this;r(this,e),this.request=new s(t),this.sandbox=null,["response","responseText","responseType","responseXML","timeout","upload","withCredentials"].forEach(function(e){Object.defineProperty(n,e,{get:function(){return this.request[e]},set:function(t){this.request[e]=t}})}),["status","statusText"].forEach(function(e){Object.defineProperty(n,e,{get:function(){return this.request[e]}})})}return o(e,[{key:"abort",value:function(){return this._callNative("abort",arguments)}},{key:"getAllResponseHeaders",value:function(){return this._callNative("getAllResponseHeaders",arguments)}},{key:"getResponseHeader",value:function(){return this._callNative("getResponseHeader",arguments)}},{key:"open",value:function(){return this._callNative("open",arguments)}},{key:"overrideMimeType",value:function(){return this._callNative("overrideMimeType",arguments)}},{key:"setRequestHeader",value:function(){return this._callNative("setRequestHeader",arguments)}},{key:"send",value:function(e){l("Sending request data: ".concat(e)),this.sandbox&&this.sandbox.add(this);var t=this.request;return t.send(e),new Promise(function(e,n){t.onreadystatechange=function(){return 4===t.readyState?200>t.status||400<=t.status?n(new Error("Bad status: ".concat(t.status))):e(t.responseText):void 0},t.ontimeout=function(){n(new Error("Request timed out after ".concat(t.timeout," ms")))}})}},{key:"_callNative",value:function(e,t){return this.request[e].apply(this.request,t)}}]),e}();n["default"]=c},{"./debug":6}],25:[function(e,t){function n(e){var t=this,n=p.call(arguments,1);return new Promise(function(a,o){function s(t){var n;try{n=e.next(t)}catch(t){return o(t)}c(n)}function l(t){var n;try{n=e.throw(t)}catch(t){return o(t)}c(n)}function c(e){if(e.done)return a(e.value);var n=r.call(t,e.value);return n&&d(n)?n.then(s,l):l(new TypeError("You may only yield a function, promise, generator, array, or object, but the following object was passed: \""+(e.value+"\"")))}return"function"==typeof e&&(e=e.apply(t,n)),e&&"function"==typeof e.next?void s():a(e)})}function r(e){return e?d(e)?e:c(e)||l(e)?n.call(this,e):"function"==typeof e?a.call(this,e):Array.isArray(e)?o.call(this,e):i(e)?s.call(this,e):e:e}function a(e){var t=this;return new Promise(function(n,r){e.call(t,function(e,t){return e?r(e):void(2<arguments.length&&(t=p.call(arguments,1)),n(t))})})}function o(e){return Promise.all(e.map(r,this))}function s(e){function t(e,t){n[t]=void 0,o.push(e.then(function(e){n[t]=e}))}for(var n=new e.constructor,a=Object.keys(e),o=[],s=0;s<a.length;s++){var l=a[s],c=r.call(this,e[l]);c&&d(c)?t(c,l):n[l]=e[l]}return Promise.all(o).then(function(){return n})}function d(e){return"function"==typeof e.then}function l(e){return"function"==typeof e.next&&"function"==typeof e.throw}function c(e){var t=e.constructor;return!!t&&(!("GeneratorFunction"!==t.name&&"GeneratorFunction"!==t.displayName)||l(t.prototype))}function i(e){return Object==e.constructor}var p=Array.prototype.slice;t.exports=n["default"]=n.co=n,n.wrap=function(e){function t(){return n.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t}},{}],26:[function(e,t){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],27:[function(e,t){var n=e("./_wks")("unscopables"),r=Array.prototype;r[n]==null&&e("./_hide")(r,n,{}),t.exports=function(e){r[n][e]=!0}},{"./_hide":46,"./_wks":79}],28:[function(e,t){'use strict';var n=e("./_string-at")(!0);t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"./_string-at":71}],29:[function(e,t){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":50}],30:[function(e,t){var n=e("./_to-iobject"),r=e("./_to-length"),a=e("./_to-absolute-index");t.exports=function(e){return function(t,o,s){var d,l=n(t),c=r(l.length),i=a(s,c);if(e&&o!=o){for(;c>i;)if(d=l[i++],d!=d)return!0;}else for(;c>i;i++)if((e||i in l)&&l[i]===o)return e||i||0;return!e&&-1}}},{"./_to-absolute-index":72,"./_to-iobject":74,"./_to-length":75}],31:[function(e,t){var n=e("./_cof"),r=e("./_wks")("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(t){}};t.exports=function(e){var t,s,d;return e===void 0?"Undefined":null===e?"Null":"string"==typeof(s=o(t=Object(e),r))?s:a?n(t):"Object"==(d=n(t))&&"function"==typeof t.callee?"Arguments":d}},{"./_cof":32,"./_wks":79}],32:[function(e,t){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],33:[function(e,t){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},{}],34:[function(e,t){var n=e("./_a-function");t.exports=function(e,t,r){return(n(e),void 0===t)?e:1===r?function(n){return e.call(t,n)}:2===r?function(n,r){return e.call(t,n,r)}:3===r?function(n,r,a){return e.call(t,n,r,a)}:function(){return e.apply(t,arguments)}}},{"./_a-function":26}],35:[function(e,t){t.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},{}],36:[function(e,t){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":40}],37:[function(e,t){var n=e("./_is-object"),r=e("./_global").document,a=n(r)&&n(r.createElement);t.exports=function(e){return a?r.createElement(e):{}}},{"./_global":44,"./_is-object":50}],38:[function(e,t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],39:[function(e,t){var n=e("./_global"),r=e("./_core"),a=e("./_hide"),o=e("./_redefine"),s=e("./_ctx"),d="prototype",l=function(e,t,c){var i,p,u,m,f=e&l.F,h=e&l.G,y=e&l.S,g=e&l.P,b=e&l.B,_=h?n:y?n[t]||(n[t]={}):(n[t]||{})[d],x=h?r:r[t]||(r[t]={}),v=x[d]||(x[d]={});for(i in h&&(c=t),c)p=!f&&_&&void 0!==_[i],u=(p?_:c)[i],m=b&&p?s(u,n):g&&"function"==typeof u?s(Function.call,u):u,_&&o(_,i,u,e&l.U),x[i]!=u&&a(x,i,m),g&&v[i]!=u&&(v[i]=u)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":33,"./_ctx":34,"./_global":44,"./_hide":46,"./_redefine":64}],40:[function(e,t){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],41:[function(e,t){'use strict';e("./es6.regexp.exec");var n=e("./_redefine"),r=e("./_hide"),a=e("./_fails"),o=e("./_defined"),s=e("./_wks"),d=e("./_regexp-exec"),l=s("species"),c=!a(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),i=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(e,t,p){var u=s(e),m=!a(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)}),f=m?!a(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[u](""),!t}):void 0;if(!m||!f||"replace"===e&&!c||"split"===e&&!i){var h=/./[u],y=p(o,u,""[e],function(e,t,n,r,a){return t.exec===d?m&&!a?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),g=y[0],b=y[1];n(String.prototype,e,g),r(RegExp.prototype,u,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},{"./_defined":35,"./_fails":40,"./_hide":46,"./_redefine":64,"./_regexp-exec":66,"./_wks":79,"./es6.regexp.exec":81}],42:[function(e,t){'use strict';var n=e("./_an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":29}],43:[function(e,t){t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":69}],44:[function(e,t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],45:[function(e,t){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],46:[function(e,t){var n=e("./_object-dp"),r=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,a){return n.f(e,t,r(1,a))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":36,"./_object-dp":58,"./_property-desc":63}],47:[function(e,t){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":44}],48:[function(e,t){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":36,"./_dom-create":37,"./_fails":40}],49:[function(e,t){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":32}],50:[function(e,t){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],51:[function(e,t){var n=e("./_is-object"),r=e("./_cof"),a=e("./_wks")("match");t.exports=function(e){var t;return n(e)&&((t=e[a])===void 0?"RegExp"==r(e):!!t)}},{"./_cof":32,"./_is-object":50,"./_wks":79}],52:[function(e,t){'use strict';var n=e("./_object-create"),r=e("./_property-desc"),a=e("./_set-to-string-tag"),o={};e("./_hide")(o,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,s){e.prototype=n(o,{next:r(1,s)}),a(e,t+" Iterator")}},{"./_hide":46,"./_object-create":57,"./_property-desc":63,"./_set-to-string-tag":67,"./_wks":79}],53:[function(e,t){'use strict';var n=e("./_library"),r=e("./_export"),a=e("./_redefine"),o=e("./_hide"),s=e("./_iterators"),d=e("./_iter-create"),l=e("./_set-to-string-tag"),c=e("./_object-gpo"),i=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),u="keys",m="values",f=function(){return this};t.exports=function(e,t,h,y,g,b,_){d(h,t,y);var x,v,w,A=function(e){return!p&&e in C?C[e]:e===u?function(){return new h(this,e)}:e===m?function(){return new h(this,e)}:function(){return new h(this,e)}},N=t+" Iterator",k=g==m,T=!1,C=e.prototype,E=C[i]||C["@@iterator"]||g&&C[g],D=E||A(g),S=g?k?A("entries"):D:void 0,O="Array"==t?C.entries||E:E;if(O&&(w=c(O.call(new e)),w!==Object.prototype&&w.next&&(l(w,N,!0),!n&&"function"!=typeof w[i]&&o(w,i,f))),k&&E&&E.name!==m&&(T=!0,D=function(){return E.call(this)}),(!n||_)&&(p||T||!C[i])&&o(C,i,D),s[t]=D,s[N]=f,g)if(x={values:k?D:A(m),keys:b?D:A(u),entries:S},_)for(v in x)v in C||a(C,v,x[v]);else r(r.P+r.F*(p||T),t,x);return x}},{"./_export":39,"./_hide":46,"./_iter-create":52,"./_iterators":55,"./_library":56,"./_object-gpo":60,"./_redefine":64,"./_set-to-string-tag":67,"./_wks":79}],54:[function(e,t){t.exports=function(e,t){return{value:t,done:!!e}}},{}],55:[function(e,t){t.exports={}},{}],56:[function(e,t){t.exports=!1},{}],57:[function(e,t){var n=e("./_an-object"),r=e("./_object-dps"),a=e("./_enum-bug-keys"),o=e("./_shared-key")("IE_PROTO"),s=function(){},d="prototype",l=function(){var t,n=e("./_dom-create")("iframe"),r=a.length,o="<",s=">";for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),l=t.F;r--;)delete l[d][a[r]];return l()};t.exports=Object.create||function(e,t){var a;return null===e?a=l():(s[d]=n(e),a=new s,s[d]=null,a[o]=e),void 0===t?a:r(a,t)}},{"./_an-object":29,"./_dom-create":37,"./_enum-bug-keys":38,"./_html":47,"./_object-dps":59,"./_shared-key":68}],58:[function(e,t,n){var r=e("./_an-object"),a=e("./_ie8-dom-define"),o=e("./_to-primitive"),s=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return s(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":29,"./_descriptors":36,"./_ie8-dom-define":48,"./_to-primitive":77}],59:[function(e,t){var n=e("./_object-dp"),r=e("./_an-object"),a=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){r(e);for(var o,s=a(t),d=s.length,l=0;d>l;)n.f(e,o=s[l++],t[o]);return e}},{"./_an-object":29,"./_descriptors":36,"./_object-dp":58,"./_object-keys":62}],60:[function(e,t){var n=e("./_has"),r=e("./_to-object"),a=e("./_shared-key")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{"./_has":45,"./_shared-key":68,"./_to-object":76}],61:[function(e,t){var n=e("./_has"),r=e("./_to-iobject"),a=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var s,d=r(e),l=0,c=[];for(s in d)s!=o&&n(d,s)&&c.push(s);for(;t.length>l;)n(d,s=t[l++])&&(~a(c,s)||c.push(s));return c}},{"./_array-includes":30,"./_has":45,"./_shared-key":68,"./_to-iobject":74}],62:[function(e,t){var n=e("./_object-keys-internal"),r=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,r)}},{"./_enum-bug-keys":38,"./_object-keys-internal":61}],63:[function(e,t){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],64:[function(e,t){var n=e("./_global"),r=e("./_hide"),a=e("./_has"),o=e("./_uid")("src"),s=e("./_function-to-string"),d="toString",l=(""+s).split(d);e("./_core").inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,s,d){var c="function"==typeof s;c&&(a(s,"name")||r(s,"name",t));e[t]===s||(c&&(a(s,o)||r(s,o,e[t]?""+e[t]:l.join(t+""))),e===n?e[t]=s:d?e[t]?e[t]=s:r(e,t,s):(delete e[t],r(e,t,s)))})(Function.prototype,d,function(){return"function"==typeof this&&this[o]||s.call(this)})},{"./_core":33,"./_function-to-string":43,"./_global":44,"./_has":45,"./_hide":46,"./_uid":78}],65:[function(e,t){'use strict';var n=e("./_classof"),r=RegExp.prototype.exec;t.exports=function(e,t){var a=e.exec;if("function"==typeof a){var o=a.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},{"./_classof":31}],66:[function(e,t){'use strict';var n=e("./_flags"),r=RegExp.prototype.exec,a=String.prototype.replace,o=r,s="lastIndex",d=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e[s]||0!==t[s]}(),l=/()??/.exec("")[1]!==void 0;(d||l)&&(o=function(e){var t,o,c,p,u=this;return l&&(o=new RegExp("^"+u.source+"$(?!\\s)",n.call(u))),d&&(t=u[s]),c=r.call(u,e),d&&c&&(u[s]=u.global?c.index+c[0].length:t),l&&c&&1<c.length&&a.call(c[0],o,function(){for(p=1;p<arguments.length-2;p++)void 0===arguments[p]&&(c[p]=void 0)}),c}),t.exports=o},{"./_flags":42}],67:[function(e,t){var n=e("./_object-dp").f,r=e("./_has"),a=e("./_wks")("toStringTag");t.exports=function(e,t,o){e&&!r(e=o?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},{"./_has":45,"./_object-dp":58,"./_wks":79}],68:[function(e,t){var n=e("./_shared")("keys"),r=e("./_uid");t.exports=function(e){return n[e]||(n[e]=r(e))}},{"./_shared":69,"./_uid":78}],69:[function(e,t){var n=e("./_core"),r=e("./_global"),a="__core-js_shared__",o=r[a]||(r[a]={});(t.exports=function(e,t){return o[e]||(o[e]=t===void 0?{}:t)})("versions",[]).push({version:n.version,mode:e("./_library")?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":33,"./_global":44,"./_library":56}],70:[function(e,t){var n=e("./_an-object"),r=e("./_a-function"),a=e("./_wks")("species");t.exports=function(e,t){var o,s=n(e).constructor;return s===void 0||(o=n(s)[a])==null?t:r(o)}},{"./_a-function":26,"./_an-object":29,"./_wks":79}],71:[function(e,t){var n=e("./_to-integer"),r=e("./_defined");t.exports=function(e){return function(t,o){var d,c,p=r(t)+"",s=n(o),i=p.length;return 0>s||s>=i?e?"":void 0:(d=p.charCodeAt(s),55296>d||56319<d||s+1===i||56320>(c=p.charCodeAt(s+1))||57343<c?e?p.charAt(s):d:e?p.slice(s,s+2):(d-55296<<10)+(c-56320)+65536)}}},{"./_defined":35,"./_to-integer":73}],72:[function(e,t){var a=e("./_to-integer");t.exports=function(e,t){return e=a(e),0>e?r(e+t,0):n(e,t)}},{"./_to-integer":73}],73:[function(e,n){var r=Math.ceil;n.exports=function(e){return isNaN(e=+e)?0:(0<e?t:r)(e)}},{}],74:[function(e,t){var n=e("./_iobject"),r=e("./_defined");t.exports=function(e){return n(r(e))}},{"./_defined":35,"./_iobject":49}],75:[function(e,t){var r=e("./_to-integer");t.exports=function(e){return 0<e?n(r(e),9007199254740991):0}},{"./_to-integer":73}],76:[function(e,t){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":35}],77:[function(e,t){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":50}],78:[function(e,t){var n=0,r=Math.random();t.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++n+r).toString(36))}},{}],79:[function(e,t){var n=e("./_shared")("wks"),r=e("./_uid"),a=e("./_global").Symbol,o="function"==typeof a,s=t.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:r)("Symbol."+e))};s.store=n},{"./_global":44,"./_shared":69,"./_uid":78}],80:[function(e,t){'use strict';var n=e("./_add-to-unscopables"),r=e("./_iter-step"),a=e("./_iterators"),o=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":27,"./_iter-define":53,"./_iter-step":54,"./_iterators":55,"./_to-iobject":74}],81:[function(e){'use strict';var t=e("./_regexp-exec");e("./_export")({target:"RegExp",proto:!0,forced:t!==/./.exec},{exec:t})},{"./_export":39,"./_regexp-exec":66}],82:[function(e){'use strict';var t=e("./_is-regexp"),r=e("./_an-object"),a=e("./_species-constructor"),o=e("./_advance-string-index"),s=e("./_to-length"),d=e("./_regexp-exec-abstract"),l=e("./_regexp-exec"),c=e("./_fails"),i=[].push,p="split",u="length",m="lastIndex",f=4294967295,h=!c(function(){RegExp(f,"y")});e("./_fix-re-wks")("split",2,function(e,c,y,g){var b;return b="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[u]||2!="ab"[p](/(?:ab)*/)[u]||4!="."[p](/(.?)(.?)/)[u]||1<"."[p](/()()/)[u]||""[p](/.?/)[u]?function(e,n){var r=this+"";if(void 0===e&&0===n)return[];if(!t(e))return y.call(r,e,n);for(var a,o,s,d=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,h=void 0===n?f:n>>>0,g=new RegExp(e.source,c+"g");(a=l.call(g,r))&&(o=g[m],!(o>p&&(d.push(r.slice(p,a.index)),1<a[u]&&a.index<r[u]&&i.apply(d,a.slice(1)),s=a[0][u],p=o,d[u]>=h)));)g[m]===a.index&&g[m]++;return p===r[u]?(s||!g.test(""))&&d.push(""):d.push(r.slice(p)),d[u]>h?d.slice(0,h):d}:"0"[p](void 0,0)[u]?function(e,t){return void 0===e&&0===t?[]:y.call(this,e,t)}:y,[function(t,n){var r=e(this),a=null==t?void 0:t[c];return void 0===a?b.call(r+"",t,n):a.call(t,r,n)},function(t,l){var c=g(b,t,this,l,b!==y);if(c.done)return c.value;var u=r(t),m=this+"",_=a(u,RegExp),x=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),w=new _(h?u:"^(?:"+u.source+")",v),N=void 0===l?f:l>>>0;if(0===N)return[];if(0===m.length)return null===d(w,m)?[m]:[];for(var k=0,T=0,C=[];T<m.length;){w.lastIndex=h?T:0;var A,E=d(w,h?m:m.slice(T));if(null===E||(A=n(s(w.lastIndex+(h?0:T)),m.length))===k)T=o(m,T,x);else{if(C.push(m.slice(k,T)),C.length===N)return C;for(var D=1;D<=E.length-1;D++)if(C.push(E[D]),C.length===N)return C;T=k=A}}return C.push(m.slice(k)),C}]})},{"./_advance-string-index":28,"./_an-object":29,"./_fails":40,"./_fix-re-wks":41,"./_is-regexp":51,"./_regexp-exec":66,"./_regexp-exec-abstract":65,"./_species-constructor":70,"./_to-length":75}],83:[function(e){for(var t=e("./es6.array.iterator"),n=e("./_object-keys"),r=e("./_redefine"),a=e("./_global"),o=e("./_hide"),s=e("./_iterators"),d=e("./_wks"),l=d("iterator"),c=d("toStringTag"),p=s.Array,u={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(u),f=0;f<m.length;f++){var h,y=m[f],g=u[y],b=a[y],_=b&&b.prototype;if(_&&(_[l]||o(_,l,p),_[c]||o(_,c,y),s[y]=p,g))for(h in t)_[h]||r(_,h,t[h],!0)}},{"./_global":44,"./_hide":46,"./_iterators":55,"./_object-keys":62,"./_redefine":64,"./_wks":79,"./es6.array.iterator":80}],84:[function(e,n,r){(function(n){function a(e,t){this.username=e,this.password=t}if("undefined"==typeof r&&(r={}),"undefined"!=typeof e){const t=e("pure-md5");n.MD5=t.md5}else"undefined"!=typeof CryptoJS&&(MD5=CryptoJS.MD5);r.AuthCalc=a,a.prototype.getCredentials=function(){return{username:this.username,password:this.password}},a.prototype.authType=null,a.prototype.WWW_AUTHENTICATE="WWW-Authenticate",a.prototype.AUTH_PARAMS=null,a.prototype.parseWWWAuthenticateHeader=function(e){var t={};t[null]=e.split(" ").shift();var n=/([^"',\s]*)="([^"]*)/gm,r=null;n._keepobj="";do r=n.exec(e),null!==r&&(t[r[1]]=r[2]);while(null!==r);return t},a.prototype.updateServerResponse=function(e){if(!e||2>e.readyState)return void console.error("No XHR / no headers ready at XHR");var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};for(let r=0;r<t.length;r++){let e=t[r].split(": "),a=e.shift().toLowerCase(),o=e.join(": ");if(a==this.WWW_AUTHENTICATE.toLowerCase()){let e=this.parseWWWAuthenticateHeader(o);if(!(null in e))continue;e[null]=e[null].toLowerCase(),n[e[null]]=e}}if(0>=n.length)return void console.error("No \""+this.WWW_AUTHENTICATE+"\" headers in server response");if("basic"in n&&"basic"==this.authType&&(this.AUTH_PARAMS=n.basic),"digest"in n&&(!this.authType||"basic"==this.authType||"digest"==this.authType))this.AUTH_PARAMS=n.digest;else if("basic"in n&&!this.authType)this.AUTH_PARAMS=n.basic;else return void console.error("No allowed authentication challenges in server response. All challenges: ",n);this.nonce_count=1},a.prototype.AUTH_HA1=null,a.prototype.AUTH_USERNAME=null,a.prototype.generateCnonce=function(){for(var e,n="abcdef0123456789",r="",a=0;8>a;a++)e=t(Math.random()*n.length),r+=n.substr(e,1);return r},a.prototype.createAuthorizationHeaderDigest=function(e){var t=this.AUTH_PARAMS;if(!t)return null;var n=t.qop,r="auth";if(void 0!==n&&"auth-int"===n.toLowerCase()&&(r="auth-int"),null==this.AUTH_HA1){let e=this.getCredentials();if(!e||!e.username&&!e.password)return null;this.AUTH_USERNAME=e.username,this.AUTH_HA1=MD5(e.username+":"+t.realm+":"+e.password)}var a,o,s=t.algorithm;void 0!==s&&"md5-sess"===s.toLowerCase()?(o=this.generateCnonce(),a=MD5(this.AUTH_HA1+":"+t.nonce+":"+o)):a=this.AUTH_HA1;var d,l;if("auth-int"===r){var c=e.data?e.data:"";d=MD5(e.type+":"+e.url+":"+MD5(c))}else d=MD5(e.type+":"+e.url);var l,i;void 0===t.qop?l=MD5(a+":"+t.nonce+":"+d):(void 0===o&&(o=this.generateCnonce()),i=this.nonce_count.toString(16).padStart(8,"0"),this.nonce_count+=1,l=MD5(a+":"+t.nonce+":"+i+":"+o+":"+r+":"+d));var p=[];return p.push("Digest username=\"",this.AUTH_USERNAME,"\","),p.push("realm=\"",t.realm,"\","),p.push("nonce=\"",t.nonce,"\","),p.push("uri=\"",e.url,"\","),p.push("qop=",r,","),void 0!==i&&p.push("nc=",i,","),void 0!==o&&p.push("cnonce=\"",o,"\","),void 0!==t.opaque&&p.push("opaque=\"",t.opaque,"\","),p.push("response=\"",l,"\""),p.join("")},a.prototype.createAuthorizationHeaderBasic=function(){let e=this.getCredentials();return e&&(e.username||e.password)?"Basic "+btoa(e.username+":"+e.password):null},a.prototype.sign=function(e,t){var n=this.AUTH_PARAMS,r=null;n&&"digest"==n[null]?r=this.createAuthorizationHeaderDigest(t,n):(n&&"basic"==n[null]||"basic"==this.authType)&&(r=this.createAuthorizationHeaderBasic(t)),r&&e.setRequestHeader("Authorization",r)}}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"pure-md5":86}],85:[function(n,r,o){(function(n){/*! https://mths.be/punycode v1.4.1 by @mathias */(function(s){function d(e){throw new RangeError(A[e])}function l(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function c(e,t){var n=e.split("@"),r="";1<n.length&&(r=n[0]+"@",e=n[1]),e=e.replace(w,".");var a=e.split("."),o=l(a,t).join(".");return r+o}function i(e){for(var t,n,r=[],a=0,o=e.length;a<o;)t=e.charCodeAt(a++),55296<=t&&56319>=t&&a<o?(n=e.charCodeAt(a++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--)):r.push(t);return r}function p(e){return l(e,function(e){var t="";return 65535<e&&(e-=65536,t+=T(55296|1023&e>>>10),e=56320|1023&e),t+=T(e),t}).join("")}function u(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:36}function m(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?N(e/700):e>>1,e+=N(e/t);455<e;r+=36)e=N(e/35);return N(r+36*e/(e+38))}function h(e){var r,a,o,s,l,c,m,h,y,g,b=[],_=e.length,x=0,v=128,A=72;for(a=e.lastIndexOf("-"),0>a&&(a=0),o=0;o<a;++o)128<=e.charCodeAt(o)&&d("not-basic"),b.push(e.charCodeAt(o));for(s=0<a?a+1:0;s<_;){for(l=x,c=1,m=36;;m+=36){if(s>=_&&d("invalid-input"),h=u(e.charCodeAt(s++)),(36<=h||h>N((2147483647-x)/c))&&d("overflow"),x+=h*c,y=m<=A?1:m>=A+26?26:m-A,h<y)break;g=36-y,c>N(2147483647/g)&&d("overflow"),c*=g}r=b.length+1,A=f(x-l,r,0==l),N(x/r)>2147483647-v&&d("overflow"),v+=N(x/r),x%=r,b.splice(x++,0,v)}return p(b)}function y(e){var r,a,o,s,l,c,p,u,h,y,g,b,_,x,v,w=[];for(e=i(e),b=e.length,r=128,a=0,l=72,c=0;c<b;++c)g=e[c],128>g&&w.push(T(g));for(o=s=w.length,s&&w.push("-");o<b;){for(p=2147483647,c=0;c<b;++c)g=e[c],g>=r&&g<p&&(p=g);for(_=o+1,p-r>N((2147483647-a)/_)&&d("overflow"),a+=(p-r)*_,r=p,c=0;c<b;++c)if(g=e[c],g<r&&2147483647<++a&&d("overflow"),g==r){for(u=a,h=36;;h+=36){if(y=h<=l?1:h>=l+26?26:h-l,u<y)break;v=u-y,x=36-y,w.push(T(m(y+v%x,0))),u=N(v/x)}w.push(T(m(u,0))),l=f(a,_,o==s),a=0,++o}++a,++r}return w.join("")}var g="object"==typeof o&&o&&!o.nodeType&&o,b="object"==typeof r&&r&&!r.nodeType&&r,_="object"==typeof n&&n;(_.global===_||_.window===_||_.self===_)&&(s=_);var x,v,w=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=t,T=e;if(x={version:"1.4.1",ucs2:{decode:i,encode:p},decode:h,encode:y,toASCII:function(e){return c(e,function(e){return /[^\x20-\x7E]/.test(e)?"xn--"+y(e):e})},toUnicode:function(e){return c(e,function(e){return /^xn--/.test(e)?h(e.slice(4).toLowerCase()):e})}},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return x});else if(!(g&&b))s.punycode=x;else if(r.exports==g)b.exports=x;else for(v in x)x.hasOwnProperty(v)&&(g[v]=x[v])})(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],86:[function(e,o,s){!function(d,r){if("object"==typeof s&&"object"==typeof o)o.exports=r();else if("function"==typeof a&&a.amd)a([],r);else{var n=r();for(var e in n)("object"==typeof s?s:d)[e]=n[e]}}("undefined"==typeof self?this:self,function(){return function(a){function s(n){if(e[n])return e[n].exports;var t=e[n]={i:n,l:!1,exports:{}};return a[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}var e={};return s.m=a,s.c=e,s.d=function(e,r,n){s.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)s.d(n,t,function(t){return e[t]}.bind(null,t));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(m,r,n){"use strict";function e(e){var t;return"5d41402abc4b2a76b9719d911017c592"!==o(s("hello"))&&(t=function(t,r){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}),o(s(e,t))}n.r(r);var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=function(t){for(var r="",a=0;4>a;a++)r+=p[15&t>>8*a+4]+p[15&t>>8*a];return r},o=function(a){for(var r=a.length,n=0;n<r;n++)a[n]=t(a[n]);return a.join("")},h=function(e,t){return 4294967295&e+t},y=function(a,r,s,e,t,o){return function(t,r,n){return h(t<<r|t>>>32-r,n)}(r=function(a,r,o,e){return r=h(h(r,a),h(o,e))}(a,r,e,o),t,s)},f=function(s,r,n,e,t,o,d,l){return y(n&e|~n&t,r,n,o,d,l,s)},a=function(s,r,n,e,t,o,d,l){return y(n&t|e&~t,r,n,o,d,l,s)},c=function(s,r,n,e,t,o,d,l){return y(n^e^t,r,n,o,d,l,s)},l=function(s,r,n,e,t,o,d,l){return y(e^(n|~t),r,n,o,d,l,s)},d=function(d,r,n){void 0===n&&(n=h);var m=d[0],y=d[1],g=d[2],_=d[3],x=f.bind(null,n);m=x(m,y,g,_,r[0],7,-680876936),_=x(_,m,y,g,r[1],12,-389564586),g=x(g,_,m,y,r[2],17,606105819),y=x(y,g,_,m,r[3],22,-1044525330),m=x(m,y,g,_,r[4],7,-176418897),_=x(_,m,y,g,r[5],12,1200080426),g=x(g,_,m,y,r[6],17,-1473231341),y=x(y,g,_,m,r[7],22,-45705983),m=x(m,y,g,_,r[8],7,1770035416),_=x(_,m,y,g,r[9],12,-1958414417),g=x(g,_,m,y,r[10],17,-42063),y=x(y,g,_,m,r[11],22,-1990404162),m=x(m,y,g,_,r[12],7,1804603682),_=x(_,m,y,g,r[13],12,-40341101),g=x(g,_,m,y,r[14],17,-1502002290),y=x(y,g,_,m,r[15],22,1236535329);var v=a.bind(null,n);m=v(m,y,g,_,r[1],5,-165796510),_=v(_,m,y,g,r[6],9,-1069501632),g=v(g,_,m,y,r[11],14,643717713),y=v(y,g,_,m,r[0],20,-373897302),m=v(m,y,g,_,r[5],5,-701558691),_=v(_,m,y,g,r[10],9,38016083),g=v(g,_,m,y,r[15],14,-660478335),y=v(y,g,_,m,r[4],20,-405537848),m=v(m,y,g,_,r[9],5,568446438),_=v(_,m,y,g,r[14],9,-1019803690),g=v(g,_,m,y,r[3],14,-187363961),y=v(y,g,_,m,r[8],20,1163531501),m=v(m,y,g,_,r[13],5,-1444681467),_=v(_,m,y,g,r[2],9,-51403784),g=v(g,_,m,y,r[7],14,1735328473),y=v(y,g,_,m,r[12],20,-1926607734);var s=c.bind(null,n);m=s(m,y,g,_,r[5],4,-378558),_=s(_,m,y,g,r[8],11,-2022574463),g=s(g,_,m,y,r[11],16,1839030562),y=s(y,g,_,m,r[14],23,-35309556),m=s(m,y,g,_,r[1],4,-1530992060),_=s(_,m,y,g,r[4],11,1272893353),g=s(g,_,m,y,r[7],16,-155497632),y=s(y,g,_,m,r[10],23,-1094730640),m=s(m,y,g,_,r[13],4,681279174),_=s(_,m,y,g,r[0],11,-358537222),g=s(g,_,m,y,r[3],16,-722521979),y=s(y,g,_,m,r[6],23,76029189),m=s(m,y,g,_,r[9],4,-640364487),_=s(_,m,y,g,r[12],11,-421815835),g=s(g,_,m,y,r[15],16,530742520),y=s(y,g,_,m,r[2],23,-995338651);var b=l.bind(null,n);m=b(m,y,g,_,r[0],6,-198630844),_=b(_,m,y,g,r[7],10,1126891415),g=b(g,_,m,y,r[14],15,-1416354905),y=b(y,g,_,m,r[5],21,-57434055),m=b(m,y,g,_,r[12],6,1700485571),_=b(_,m,y,g,r[3],10,-1894986606),g=b(g,_,m,y,r[10],15,-1051523),y=b(y,g,_,m,r[1],21,-2054922799),m=b(m,y,g,_,r[8],6,1873313359),_=b(_,m,y,g,r[15],10,-30611744),g=b(g,_,m,y,r[6],15,-1560198380),y=b(y,g,_,m,r[13],21,1309151649),m=b(m,y,g,_,r[4],6,-145523070),_=b(_,m,y,g,r[11],10,-1120210379),g=b(g,_,m,y,r[2],15,718787259),y=b(y,g,_,m,r[9],21,-343485551),d[0]=n(m,d[0]),d[1]=n(y,d[1]),d[2]=n(g,d[2]),d[3]=n(_,d[3])},i=function(t){for(var r=[],n=0;64>n;n+=4)r[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return r},s=function(a,s){var n,l=a.length,t=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=l;n+=64)d(t,i(a.substring(n-64,n)),s);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=(a=a.substring(n-64)).length;for(n=0;n<c;n++)o[n>>2]|=a.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),55<n)for(d(t,o,s),n=16;n--;)o[n]=0;return o[14]=8*l,d(t,o,s),t};n.d(r,"md5",function(){return e})}])})},{}],87:[function(e,t){'use strict';function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,a,o){t=t||"&",a=a||"=";var s={};if("string"!=typeof e||0===e.length)return s;e=e.split(t);var d=1e3;o&&"number"==typeof o.maxKeys&&(d=o.maxKeys);var l=e.length;0<d&&l>d&&(l=d);for(var c=0;c<l;++c){var p,u,m,f,h=e[c].replace(/\+/g,"%20"),y=h.indexOf(a);0<=y?(p=h.substr(0,y),u=h.substr(y+1)):(p=h,u=""),m=decodeURIComponent(p),f=decodeURIComponent(u),n(s,m)?r(s[m])?s[m].push(f):s[m]=[s[m],f]:s[m]=f}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],88:[function(e,t){'use strict';function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return"";}};t.exports=function(e,t,s,d){return t=t||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?n(o(e),function(o){var d=encodeURIComponent(r(o))+s;return a(e[o])?n(e[o],function(e){return d+encodeURIComponent(r(e))}).join(t):d+encodeURIComponent(r(e[o]))}).join(t):d?encodeURIComponent(r(d))+s+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],89:[function(e,t,n){'use strict';n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":87,"./encode":88}],90:[function(e,t,n){'use strict';function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,n){if(e&&d.isObject(e)&&e instanceof r)return e;var a=new r;return a.parse(e,t,n),a}var o=e("punycode"),d=e("./util");n.parse=a,n.resolve=function(e,t){return a(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?a(e,!1,!0).resolveObject(t):t},n.format=function(e){return d.isString(e)&&(e=a(e)),e instanceof r?e.format():r.prototype.format.call(e)},n.Url=r;var l=["{","}","|","\\","^","`"].concat(["<",">","\"","`"," ","\r","\n","\t"]),c=["'"].concat(l),p=["%","/","?",";","#"].concat(c),u=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,f={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");r.prototype.parse=function(e,t,n){if(!d.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),a=-1!==r&&r<e.indexOf("#")?"?":"#",_=e.split(a);_[0]=_[0].replace(/\\/g,"/"),e=_.join(a);var x=e;if(x=x.trim(),!n&&1===e.split("#").length){var v=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/.exec(x);if(v)return this.path=x,this.href=x,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=/^([a-z0-9.+-]+:)/i.exec(x);if(w){w=w[0];var A=w.toLowerCase();this.protocol=A,x=x.substr(w.length)}if(n||w||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var N="//"===x.substr(0,2);N&&!(w&&y[w])&&(x=x.substr(2),this.slashes=!0)}if(!y[w]&&(N||w&&!g[w])){for(var T,C=-1,E=0;E<u.length;E++)T=x.indexOf(u[E]),-1!==T&&(-1===C||T<C)&&(C=T);var D,S;S=-1===C?x.lastIndexOf("@"):x.lastIndexOf("@",C),-1!==S&&(D=x.slice(0,S),x=x.slice(S+1),this.auth=decodeURIComponent(D)),C=-1;for(var T,E=0;E<p.length;E++)T=x.indexOf(p[E]),-1!==T&&(-1===C||T<C)&&(C=T);-1===C&&(C=x.length),this.host=x.slice(0,C),x=x.slice(C),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var P,R=this.hostname.split(/\./),E=0,L=R.length;E<L;E++)if(P=R[E],P&&!P.match(m)){for(var M="",I=0,q=P.length;I<q;I++)M+=127<P.charCodeAt(I)?"x":P[I];if(!M.match(m)){var k=R.slice(0,E),U=R.slice(E+1),V=P.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);V&&(k.push(V[1]),U.unshift(V[2])),U.length&&(x="/"+U.join(".")+x),this.hostname=k.join(".");break}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),O||(this.hostname=o.toASCII(this.hostname));var H=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+H,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==x[0]&&(x="/"+x))}if(!f[A])for(var h,E=0,L=c.length;E<L;E++)if(h=c[E],-1!==x.indexOf(h)){var z=encodeURIComponent(h);z===h&&(z=escape(h)),x=x.split(h).join(z)}var F=x.indexOf("#");-1!==F&&(this.hash=x.substr(F),x=x.slice(0,F));var G=x.indexOf("?");if(-1===G?t&&(this.search="",this.query={}):(this.search=x.substr(G),this.query=x.substr(G+1),t&&(this.query=b.parse(this.query)),x=x.slice(0,G)),x&&(this.pathname=x),g[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",W=this.search||"";this.path=H+W}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):!a&&(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+a+n+s+r},r.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(d.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n,a=new r,o=Object.keys(this),l=0;l<o.length;l++)n=o[l],a[n]=this[n];if(a.hash=e.hash,""===e.href)return a.href=a.format(),a;if(e.slashes&&!e.protocol){for(var c,u=Object.keys(e),m=0;m<u.length;m++)c=u[m],"protocol"!==c&&(a[c]=e[c]);return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(e.protocol&&e.protocol!==a.protocol){if(!g[e.protocol]){for(var f,h=Object.keys(e),b=0;b<h.length;b++)f=h[b],a[f]=e[f];return a.href=a.format(),a}if(a.protocol=e.protocol,!e.host&&!y[e.protocol]){for(var _=(e.pathname||"").split("/");_.length&&!(e.host=_.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==_[0]&&_.unshift(""),2>_.length&&_.unshift(""),a.pathname=_.join("/")}else a.pathname=e.pathname;if(a.search=e.search,a.query=e.query,a.host=e.host||"",a.auth=e.auth,a.hostname=e.hostname||e.host,a.port=e.port,a.pathname||a.search){var x=a.pathname||"",p=a.search||"";a.path=x+p}return a.slashes=a.slashes||e.slashes,a.href=a.format(),a}var s=a.pathname&&"/"===a.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=w||s||a.host&&e.pathname,N=A,T=a.pathname&&a.pathname.split("/")||[],_=e.pathname&&e.pathname.split("/")||[],C=a.protocol&&!g[a.protocol];if(C&&(a.hostname="",a.port=null,a.host&&(""===T[0]?T[0]=a.host:T.unshift(a.host)),a.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===_[0]?_[0]=e.host:_.unshift(e.host)),e.host=null),A=A&&(""===_[0]||""===T[0])),w)a.host=e.host||""===e.host?e.host:a.host,a.hostname=e.hostname||""===e.hostname?e.hostname:a.hostname,a.search=e.search,a.query=e.query,T=_;else if(_.length)T||(T=[]),T.pop(),T=T.concat(_),a.search=e.search,a.query=e.query;else if(!d.isNullOrUndefined(e.search)){if(C){a.hostname=a.host=T.shift();var E=!!(a.host&&0<a.host.indexOf("@"))&&a.host.split("@");E&&(a.auth=E.shift(),a.host=a.hostname=E.shift())}return a.search=e.search,a.query=e.query,d.isNull(a.pathname)&&d.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!T.length)return a.pathname=null,a.path=a.search?"/"+a.search:null,a.href=a.format(),a;for(var D=T.slice(-1)[0],S=(a.host||e.host||1<T.length)&&("."===D||".."===D)||""===D,O=0,P=T.length;0<=P;P--)D=T[P],"."===D?T.splice(P,1):".."===D?(T.splice(P,1),O++):O&&(T.splice(P,1),O--);if(!A&&!N)for(;O--;O)T.unshift("..");A&&""!==T[0]&&(!T[0]||"/"!==T[0].charAt(0))&&T.unshift(""),S&&"/"!==T.join("/").substr(-1)&&T.push("");var R=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(C){a.hostname=a.host=R?"":T.length?T.shift():"";var E=!!(a.host&&0<a.host.indexOf("@"))&&a.host.split("@");E&&(a.auth=E.shift(),a.host=a.hostname=E.shift())}return A=A||a.host&&T.length,A&&!R&&T.unshift(""),T.length?a.pathname=T.join("/"):(a.pathname=null,a.path=null),d.isNull(a.pathname)&&d.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=e.auth||a.auth,a.slashes=a.slashes||e.slashes,a.href=a.format(),a},r.prototype.parseHost=function(){var e=this.host,t=/:[0-9]*$/.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":91,punycode:85,querystring:89}],91:[function(e,t){'use strict';t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],92:[function(e,t,n){function r(e){this.options=e||{locator:{}}}function a(e,t,n){function r(t){var r=e[t];!r&&s&&(r=2==e.length?function(n){e(t,n)}:e),a[t]=r&&function(e){r("[xmldom "+t+"]\t"+e+d(n))}||function(){}}if(!e){if(t instanceof o)return t;e=t}var a={},s=e instanceof Function;return n=n||{},r("warning"),r("error"),r("fatalError"),a}function o(){this.cdata=!1}function s(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function d(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function l(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new i,s=n.domBuilder||new o,d=n.errorHandler,l=n.locator,c=n.xmlns||{},p={lt:"<",gt:">",amp:"&",quot:"\"",apos:"'"};return l&&s.setDocumentLocator(l),r.errorHandler=a(d,s,l),r.domBuilder=n.domBuilder||s,/\/x?html?$/.test(t)&&(p.nbsp="\xA0",p.copy="\xA9",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,c,p):r.errorHandler.error("invalid doc source"),s.doc},o.prototype={startDocument:function(){this.doc=new p().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var a=this.doc,o=a.createElementNS(e,n||t),d=r.length;c(this,o),this.currentElement=o,this.locator&&s(this.locator,o);for(var l=0;l<d;l++){var e=r.getURI(l),p=r.getValue(l),n=r.getQName(l),u=a.createAttributeNS(e,n);this.locator&&s(r.getLocator(l),u),u.value=u.nodeValue=p,o.setAttributeNode(u)}},endElement:function(){var e=this.currentElement,t=e.tagName;this.currentElement=e.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&s(this.locator,n),c(this,n)},ignorableWhitespace:function(){},characters:function(e){if(e=l.apply(this,arguments),e){if(this.cdata)var t=this.doc.createCDATASection(e);else var t=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(t):/^\s*$/.test(e)&&this.doc.appendChild(t),this.locator&&s(this.locator,t)}},skippedEntity:function(){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e){e=l.apply(this,arguments);var t=this.doc.createComment(e);this.locator&&s(this.locator,t),c(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var a=r.createDocumentType(e,t,n);this.locator&&s(this.locator,a),c(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,d(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,d(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,d(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){o.prototype[e]=function(){return null}});var i=e("./sax").XMLReader,p=n.DOMImplementation=e("./dom").DOMImplementation;n.XMLSerializer=e("./dom").XMLSerializer,n.DOMParser=r},{"./dom":93,"./sax":94}],93:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function a(e,n){var a=e.prototype;if(Object.create){var t=Object.create(n.prototype);a.__proto__=t}if(!(a instanceof n)){function o(){}o.prototype=n.prototype,o=new o,r(a,o),e.prototype=a=o}a.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),a.constructor=e)}function o(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,ae[e]),this.message=ae[e],Error.captureStackTrace&&Error.captureStackTrace(this,o);return n.code=e,t&&(this.message=this.message+": "+t),n}function s(){}function d(e,t){this._node=e,this._refresh=t,l(this)}function l(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);z(e,"length",n.length),r(n,e),e._inc=t}}function c(){}function p(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function u(e,t,n,r){if(r?t[p(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(r&&x(a,e,r),_(a,e,n))}}function m(e,t,n){var r=p(t,n);if(0<=r){for(var a=t.length-1;r<a;)t[r]=t[++r];if(t.length=a,e){var s=e.ownerDocument;s&&(x(s,e,n),n.ownerElement=null)}}else throw o(ue,new Error(e.tagName+"@"+n))}function f(e){if(this._features={},e)for(var t in e)this._features=e[t]}function h(){}function y(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||"\""==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function g(e,t){if(t(e))return!0;if(e=e.firstChild)do if(g(e,t))return!0;while(e=e.nextSibling)}function b(){}function _(e,t,n){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function x(e,t,n){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete t._nsMap[n.prefix?n.localName:""]}function v(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var a=t.firstChild,o=0;a;)r[o++]=a,a=a.nextSibling;r.length=o}}}function w(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,v(e.ownerDocument,e),t}function A(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===te){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var s=n?n.previousSibling:e.lastChild;a.previousSibling=s,o.nextSibling=n,s?s.nextSibling=a:e.firstChild=a,null==n?e.lastChild=o:n.previousSibling=o;do a.parentNode=e;while(a!==o&&(a=a.nextSibling));return v(e.ownerDocument||e,e),t.nodeType==te&&(t.firstChild=t.lastChild=null),t}function N(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);var r=e.lastChild}var r=e.lastChild;return t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,v(e.ownerDocument,e,t),t}function k(){this._nsMap={}}function T(){}function C(){}function E(){}function D(){}function S(){}function O(){}function P(){}function R(){}function j(){}function L(){}function M(){}function I(){}function q(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,a=r.prefix,o=r.namespaceURI;if(o&&null==a){var a=r.lookupPrefix(o);if(null==a)var s=[{namespace:o,prefix:null}]}return V(this,n,e,t,s),n.join("")}function U(e,t,n){var r=e.prefix||"",a=e.namespaceURI;if(!r&&!a)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix==r)return s.namespace!=a}return!0}function V(e,t,n,r,a){if(r){if(e=r(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case G:a||(a=[]);var o=a.length,s=e.attributes,d=s.length,l=e.firstChild,c=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",c);for(var p,u=0;u<d;u++)p=s.item(u),"xmlns"==p.prefix?a.push({prefix:p.localName,namespace:p.value}):"xmlns"==p.nodeName&&a.push({prefix:"",namespace:p.value});for(var p,u=0;u<d;u++){if(p=s.item(u),U(p,n,a)){var m=p.prefix||"",f=p.namespaceURI,h=m?" xmlns:"+m:" xmlns";t.push(h,"=\"",f,"\""),a.push({prefix:m,namespace:f})}V(p,t,n,r,a)}if(U(e,n,a)){var m=e.prefix||"",f=e.namespaceURI,h=m?" xmlns:"+m:" xmlns";t.push(h,"=\"",f,"\""),a.push({prefix:m,namespace:f})}if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):V(l,t,n,r,a),l=l.nextSibling;else for(;l;)V(l,t,n,r,a),l=l.nextSibling;t.push("</",c,">")}else t.push("/>");return;case J:case te:for(var l=e.firstChild;l;)V(l,t,n,r,a),l=l.nextSibling;return;case W:return t.push(" ",e.name,"=\"",e.value.replace(/[<&"]/g,y),"\"");case Y:return t.push(e.data.replace(/[<&]/g,y));case X:return t.push("<![CDATA[",e.data,"]]>");case Z:return t.push("<!--",e.data,"-->");case ee:var g=e.publicId,b=e.systemId;if(t.push("<!DOCTYPE ",e.name),g)t.push(" PUBLIC \"",g),b&&"."!=b&&t.push("\" \"",b),t.push("\">");else if(b&&"."!=b)t.push(" SYSTEM \"",b,"\">");else{var _=e.internalSubset;_&&t.push(" [",_,"]"),t.push(">")}return;case K:return t.push("<?",e.target," ",e.data,"?>");case $:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName);}}function H(e,t,n){var r;switch(t.nodeType){case G:r=t.cloneNode(!1),r.ownerDocument=e;case te:break;case W:n=!0;}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var a=t.firstChild;a;)r.appendChild(H(e,a,n)),a=a.nextSibling;return r}function B(e,t,r){var a=new t.constructor;for(var o in t){var n=t[o];"object"!=typeof n&&n!=a[o]&&(a[o]=n)}switch(t.childNodes&&(a.childNodes=new s),a.ownerDocument=e,a.nodeType){case G:var d=t.attributes,l=a.attributes=new c,p=d.length;l._ownerElement=a;for(var u=0;u<p;u++)a.setAttributeNode(B(e,d.item(u),!0));break;;case W:r=!0;}if(r)for(var m=t.firstChild;m;)a.appendChild(B(e,m,r)),m=m.nextSibling;return a}function z(e,t,n){e[t]=n}var F={},G=F.ELEMENT_NODE=1,W=F.ATTRIBUTE_NODE=2,Y=F.TEXT_NODE=3,X=F.CDATA_SECTION_NODE=4,$=F.ENTITY_REFERENCE_NODE=5,Q=F.ENTITY_NODE=6,K=F.PROCESSING_INSTRUCTION_NODE=7,Z=F.COMMENT_NODE=8,J=F.DOCUMENT_NODE=9,ee=F.DOCUMENT_TYPE_NODE=10,te=F.DOCUMENT_FRAGMENT_NODE=11,ne=F.NOTATION_NODE=12,re={},ae={},oe=re.INDEX_SIZE_ERR=(ae[1]="Index size error",1),se=re.DOMSTRING_SIZE_ERR=(ae[2]="DOMString size error",2),de=re.HIERARCHY_REQUEST_ERR=(ae[3]="Hierarchy request error",3),le=re.WRONG_DOCUMENT_ERR=(ae[4]="Wrong document",4),ce=re.INVALID_CHARACTER_ERR=(ae[5]="Invalid character",5),ie=re.NO_DATA_ALLOWED_ERR=(ae[6]="No data allowed",6),pe=re.NO_MODIFICATION_ALLOWED_ERR=(ae[7]="No modification allowed",7),ue=re.NOT_FOUND_ERR=(ae[8]="Not found",8),me=re.NOT_SUPPORTED_ERR=(ae[9]="Not supported",9),fe=re.INUSE_ATTRIBUTE_ERR=(ae[10]="Attribute in use",10),he=re.INVALID_STATE_ERR=(ae[11]="Invalid state",11),ye=re.SYNTAX_ERR=(ae[12]="Syntax error",12),ge=re.INVALID_MODIFICATION_ERR=(ae[13]="Invalid modification",13),be=re.NAMESPACE_ERR=(ae[14]="Invalid namespace",14),_e=re.INVALID_ACCESS_ERR=(ae[15]="Invalid access",15);o.prototype=Error.prototype,r(re,o);s.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)V(this[r],n,e,t);return n.join("")}},d.prototype.item=function(e){return l(this),this[e]},a(d,s);c.prototype={length:0,item:s.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new o(fe);var n=this.getNamedItem(e.nodeName);return u(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new o(fe);return t=this.getNamedItemNS(e.namespaceURI,e.localName),u(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return m(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return m(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}};f.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!!(n&&(!t||t in n))},createDocument:function(e,t,n){var r=new b;if(r.implementation=this,r.childNodes=new s,r.doctype=n,n&&r.appendChild(n),t){var a=r.createElementNS(e,t);r.appendChild(a)}return r},createDocumentType:function(e,t,n){var r=new O;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}};h.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return A(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return w(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return B(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Y&&e.nodeType==Y?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var a in r)if(r[a]==e)return a;t=t.nodeType==W?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==W?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},r(F,h),r(F,h.prototype),b.prototype={nodeName:"#document",nodeType:J,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==te){for(var n,r=e.firstChild;r;)n=r.nextSibling,this.insertBefore(r,t),r=n;return e}return null==this.documentElement&&e.nodeType==G&&(this.documentElement=e),A(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),w(this,e)},importNode:function(e,t){return H(this,e,t)},getElementById:function(e){var t=null;return g(this.documentElement,function(n){if(n.nodeType==G&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new k;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new s;var n=t.attributes=new c;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new L;return e.ownerDocument=this,e.childNodes=new s,e},createTextNode:function(e){var t=new E;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new D;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new S;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new M;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new T;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new j;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new k,r=t.split(":"),a=n.attributes=new c;return n.childNodes=new s,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,a._ownerElement=n,n},createAttributeNS:function(e,t){var n=new T,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},a(b,h);k.prototype={nodeType:G,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===te?this.insertBefore(e,null):N(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new d(this,function(t){var n=[];return g(t,function(r){r!==t&&r.nodeType==G&&("*"===e||r.tagName==e)&&n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new d(this,function(n){var r=[];return g(n,function(a){a!==n&&a.nodeType===G&&("*"===e||a.namespaceURI===e)&&("*"===t||a.localName==t)&&r.push(a)}),r})}},b.prototype.getElementsByTagName=k.prototype.getElementsByTagName,b.prototype.getElementsByTagNameNS=k.prototype.getElementsByTagNameNS,a(k,h);T.prototype.nodeType=W,a(T,h);C.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(){throw new Error(ae[de])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),a=this.data.substring(e+t);n=r+n+a,this.nodeValue=this.data=n,this.length=n.length}},a(C,h);E.prototype={nodeName:"#text",nodeType:Y,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},a(E,C);D.prototype={nodeName:"#comment",nodeType:Z},a(D,C);S.prototype={nodeName:"#cdata-section",nodeType:X},a(S,C);O.prototype.nodeType=ee,a(O,h);P.prototype.nodeType=ne,a(P,h);R.prototype.nodeType=Q,a(R,h);j.prototype.nodeType=$,a(j,h);L.prototype.nodeName="#document-fragment",L.prototype.nodeType=te,a(L,h),M.prototype.nodeType=K,a(M,h),I.prototype.serializeToString=function(e,t,n){return q.call(e,t,n)},h.prototype.toString=q;try{if(Object.defineProperty){function e(t){switch(t.nodeType){case G:case te:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue;}}Object.defineProperty(d.prototype,"length",{get:function(){return l(this),this.$$length}}),Object.defineProperty(h.prototype,"textContent",{get:function(){return e(this)},set:function(e){switch(this.nodeType){case G:case te:for(;this.firstChild;)this.removeChild(this.firstChild);(e||e+"")&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e;}}}),z=function(e,t,n){e["$$"+t]=n}}}catch(t){}n.DOMImplementation=f,n.XMLSerializer=I},{}],94:[function(t,n,a){function o(){}function s(t,n,o,s,m){function g(t){if(65535<t){t-=65536;var n=55296+(t>>10),r=56320+(1023&t);return e(n,r)}return e(t)}function b(e){var t=e.slice(1,-1);return t in o?o[t]:"#"===t.charAt(0)?g(parseInt(t.substr(1).replace("x","0x"))):(m.error("entity not found:"+e),e)}function _(e){if(e>C){var n=t.substring(C,e).replace(/&#?\w+;/g,b);N&&x(C),s.characters(n,0,e-C),C=e}}function x(e,n){for(;e>=w&&(n=A.exec(t));)v=n.index,w=v+n[0].length,N.lineNumber++;N.columnNumber=e-v+1}for(var v=0,w=0,A=/.*(?:\r\n?|\n)|.*$/g,N=s.locator,k=[{currentNSMap:n}],T={},C=0;;){try{var E=t.indexOf("<",C);if(0>E){if(!t.substr(C).match(/^\s*$/)){var D=s.doc,S=D.createTextNode(t.substr(C));D.appendChild(S),s.currentElement=S}return}switch(E>C&&_(E),t.charAt(E+1)){case"/":var O=t.indexOf(">",E+3),P=t.substring(E+2,O),R=k.pop();0>O?(P=t.substring(E+2).replace(/[\s<].*/,""),m.error("end tag name: "+P+" is not complete:"+R.tagName),O=E+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),m.error("end tag name: "+P+" maybe not complete"),O=E+1+P.length);var j=R.localNSMap,L=R.tagName==P,M=L||R.tagName&&R.tagName.toLowerCase()==P.toLowerCase();if(M){if(s.endElement(R.uri,R.localName,P),j)for(var I in j)s.endPrefixMapping(I);L||m.fatalError("end tag name: "+P+" is not match the current start tagName:"+R.tagName)}else k.push(R);O++;break;case"?":N&&x(E),O=h(t,E,s);break;case"!":N&&x(E),O=f(t,E,s,m);break;default:N&&x(E);var q=new y,U=k[k.length-1].currentNSMap,O=l(t,E,q,U,b,m),V=q.length;if(!q.closed&&u(t,O,q.tagName,T)&&(q.closed=!0,!o.nbsp&&m.warning("unclosed xml attribute")),N&&V){for(var H,B=d(N,{}),z=0;z<V;z++)H=q[z],x(H.offset),H.locator=d(N,{});s.locator=B,c(q,s,U)&&k.push(q),s.locator=N}else c(q,s,U)&&k.push(q);"http://www.w3.org/1999/xhtml"!==q.uri||q.closed?O++:O=p(t,O,q.tagName,b,s);}}catch(t){m.error("element parse error: "+t),O=-1}O>C?C=O:_(r(E,C)+1)}}function d(e,n){return n.lineNumber=e.lineNumber,n.columnNumber=e.columnNumber,n}function l(e,t,n,r,a,o){for(var d,l,i=++t,u=0;;){var m=e.charAt(i);switch(m){case"=":if(1===u)d=e.slice(t,i),u=3;else if(2===u)u=3;else throw new Error("attribute equal must after attrName");break;case"'":case"\"":if(3===u||1===u){if(1===u&&(o.warning("attribute value must after \"=\""),d=e.slice(t,i)),t=i+1,i=e.indexOf(m,t),0<i)l=e.slice(t,i).replace(/&#?\w+;/g,a),n.add(d,l,t-1),u=5;else throw new Error("attribute value no end '"+m+"' match");}else if(4==u)l=e.slice(t,i).replace(/&#?\w+;/g,a),n.add(d,l,t),o.warning("attribute \""+d+"\" missed start quot("+m+")!!"),t=i+1,u=5;else throw new Error("attribute value must after \"=\"");break;case"/":switch(u){case 0:n.setTagName(e.slice(t,i));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')");}break;case"":return o.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,i)),i;case">":switch(u){case 0:n.setTagName(e.slice(t,i));case 5:case 6:case 7:break;case 4:case 1:l=e.slice(t,i),"/"===l.slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case 2:2===u&&(l=d),4==u?(o.warning("attribute \""+l+"\" missed quot(\")!!"),n.add(d,l.replace(/&#?\w+;/g,a),t)):(("http://www.w3.org/1999/xhtml"!==r[""]||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning("attribute \""+l+"\" missed value!! \""+l+"\" instead!!"),n.add(l,l,t));break;case 3:throw new Error("attribute value missed!!");}return i;case"\x80":m=" ";default:if(" ">=m)switch(u){case 0:n.setTagName(e.slice(t,i)),u=6;break;case 1:d=e.slice(t,i),u=2;break;case 4:var l=e.slice(t,i).replace(/&#?\w+;/g,a);o.warning("attribute \""+l+"\" missed quot(\")!!"),n.add(d,l,t);case 5:u=6;}else switch(u){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning("attribute \""+d+"\" missed value!! \""+d+"\" instead2!!"),n.add(d,d,t),t=i,u=1;break;case 5:o.warning("attribute space is required\""+d+"\"!!");case 6:u=1,t=i;break;case 3:u=4,t=i;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to");}}i++}}function c(e,t,n){for(var r=e.tagName,o=null,s=e.length;s--;){var d=e[s],l=d.qName,c=d.value,p=l.indexOf(":");if(0<p)var u=d.prefix=l.slice(0,p),f=l.slice(p+1),h="xmlns"===u&&f;else f=l,u=null,h="xmlns"===l&&"";d.localName=f,!1!==h&&(null==o&&(o={},m(n,n={})),n[h]=o[h]=c,d.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(h,c))}for(var s=e.length;s--;){d=e[s];var u=d.prefix;u&&("xml"===u&&(d.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(d.uri=n[u||""]))}var p=r.indexOf(":");0<p?(u=e.prefix=r.slice(0,p),f=e.localName=r.slice(p+1)):(u=null,f=e.localName=r);var y=e.uri=n[u||""];if(t.startElement(y,f,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(y,f,r),o)for(u in o)t.endPrefixMapping(u)}function p(e,t,n,r,a){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return /^script$/i.test(n)?(a.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),a.characters(s,0,s.length),o)}return t+1}function u(e,t,n,r){var a=r[n];return null==a&&(a=e.lastIndexOf("</"+n+">"),a<t&&(a=e.lastIndexOf("</"+n)),r[n]=a),a<t}function m(e,t){for(var r in e)t[r]=e[r]}function f(e,t,n,r){var a=e.charAt(t+2);switch(a){case"-":if("-"===e.charAt(t+3)){var o=e.indexOf("-->",t+4);return o>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var s=b(e,t),d=s.length;if(1<d&&/!doctype/i.test(s[0][0])){var l=s[1][0],c=3<d&&/^public$/i.test(s[2][0])&&s[3][0],i=4<d&&s[4][0],p=s[d-1];return n.startDTD(l,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),i&&i.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),p.index+p[0].length}}return-1}function h(e,t,n){var r=e.indexOf("?>",t);if(r){var a=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(a){a[0].length;return n.processingInstruction(a[1],a[2]),r+2}return-1}return-1}function y(){}function g(e,t){return e.__proto__=t,e}function b(e,t){var n,r=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(a.lastIndex=t,a.exec(e);n=a.exec(e);)if(r.push(n),n[1])return r}var _=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=new RegExp("[\\-\\.0-9"+_.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),v=new RegExp("^"+_.source+x.source+"*(?::"+_.source+x.source+"*)?$");o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),m(t,t={}),s(e,t,n,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(e){if(!v.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!v.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},g({},g.prototype)instanceof g||(g=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),a.XMLReader=o},{}],95:[function(e,t){t.exports={name:"dav",version:"1.8.0",author:"Gareth Aye [:gaye] <gaye@mozilla.com>",description:"WebDAV, CalDAV, and CardDAV client for nodejs and the browser",license:"MPL-2.0",main:"./dav.js",repository:"https://github.com/gaye/dav",keywords:["address book","calendar","contacts","dav","caldav","carddav","webdav","ical","vcard","sync","rfc 4791","rfc 6352","rfc 6578"],dependencies:{"@babel/polyfill":"^7.0.0",co:"^4.6.0",httpauth:"github:himselfv/httpauth",xmldom:"^0.1.27",xmlhttprequest:"^1.8.0"},devDependencies:{"@babel/cli":"^7.2.0","@babel/core":"^7.2.0","@babel/preset-env":"^7.2.0","@babel/register":"^7.0.0","babel-minify":"^0.5.0",babelify:"^10.0.0",browserify:"^16.2.3",chai:"^4.2.0",doctoc:"^0.15.0",mocha:"^5.2.0",nock:"^10.0.6",sinon:"^7.1.1","tcp-port-used":"^1.0.1"},scripts:{test:"make test"}}},{}]},{},[8])(8)});